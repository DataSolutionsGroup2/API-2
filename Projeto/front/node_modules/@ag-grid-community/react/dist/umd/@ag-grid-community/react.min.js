(function(Ae,Te){var Ze=typeof exports=="object";if(typeof define=="function"&&define.amd)define(["@ag-grid-community/core","react","react-dom"],Te);else if(typeof module=="object"&&module.exports)module.exports=Te(require("@ag-grid-community/core"),require("react"),require("react-dom"));else{var Fe=Ze?Te(require("@ag-grid-community/core"),require("react"),require("react-dom")):Te(Ae["@ag-grid-community/core"],Ae.react,Ae["react-dom"]),be=Ze?exports:Ae;for(var Ue in Fe)be[Ue]=Fe[Ue]}})(typeof self<"u"?self:this,(Ae,Te,Ze)=>{var Fe={},be={exports:Fe},Ue=Object.create,qe=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,Gt=Object.getOwnPropertyNames,At=Object.getPrototypeOf,Tt=Object.prototype.hasOwnProperty,Nt=(e,t)=>{for(var r in t)qe(e,r,{get:t[r],enumerable:!0})},lt=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Gt(t))!Tt.call(e,n)&&n!==r&&qe(e,n,{get:()=>t[n],enumerable:!(s=kt(t,n))||s.enumerable});return e},te=(e,t,r)=>(r=e!=null?Ue(At(e)):{},lt(t||!e||!e.__esModule?qe(r,"default",{value:e,enumerable:!0}):r,e)),xt=e=>lt(qe({},"__esModule",{value:!0}),e),ct={};Nt(ct,{AgGridReact:()=>ns,ChangeDetectionStrategyType:()=>_t,getInstance:()=>Pr,useGridCellEditor:()=>os,useGridDate:()=>as,useGridFilter:()=>ls,useGridFloatingFilter:()=>cs,useGridMenuItem:()=>is,warnReactiveCustomComponents:()=>Ye}),be.exports=xt(ct);var it=te(require("react"),1),Re=require("@ag-grid-community/core"),T=te(require("react"),1),Xe=require("@ag-grid-community/core"),Ne=te(require("react"),1),Dt=require("react"),ut=require("react"),xe=require("@ag-grid-community/core"),Bt=require("react-dom"),Wt=require("react-dom/server"),Ht=require("@ag-grid-community/core"),Lt=te(require("react"),1),Qe=te(require("react-dom"),1),dt=require("@ag-grid-community/core"),N=te(require("react"),1),Ut=require("@ag-grid-community/core"),U=te(require("react"),1),z=require("@ag-grid-community/core"),E=te(require("react"),1),de=te(require("react"),1),qt=require("@ag-grid-community/core"),le=te(require("react"),1),Vt=require("@ag-grid-community/core"),pt=require("@ag-grid-community/core"),ce=te(require("react"),1),oe=te(require("react"),1),et=require("@ag-grid-community/core"),Q=te(require("react"),1),D=te(require("react"),1),jt=require("@ag-grid-community/core"),mt=require("@ag-grid-community/core"),Kt=require("react"),Ee=require("@ag-grid-community/core"),J=te(require("react"),1),x=te(require("react"),1),zt=require("@ag-grid-community/core"),Ve=require("@ag-grid-community/core"),f=te(require("react"),1),$t=require("@ag-grid-community/core"),De=te(require("react"),1),Yt=require("react-dom"),Oe=require("react"),je=require("react"),Jt=require("@ag-grid-community/core"),pe=te(require("react"),1),Ke=require("@ag-grid-community/core"),Zt=require("react"),Xt=Object.defineProperty,Qt=Object.defineProperties,er=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,tr=Object.prototype.hasOwnProperty,rr=Object.prototype.propertyIsEnumerable,Ct=(e,t,r)=>t in e?Xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V=(e,t)=>{for(var r in t||(t={}))tr.call(t,r)&&Ct(e,r,t[r]);if(ft)for(var r of ft(t))rr.call(t,r)&&Ct(e,r,t[r]);return e},ie=(e,t)=>Qt(e,er(t)),ze=(0,Dt.createContext)({setMethods:()=>{}}),sr=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:n}=e,[o,c]=(0,Ne.useState)(t);return(0,Ne.useEffect)(()=>{r(a=>c(a))},[]),Ne.default.createElement(ze.Provider,{value:{setMethods:n}},Ne.default.createElement(s,V({},o)))},nr=(0,Ne.memo)(sr),or=0;function ht(){return`agPortalKey_${++or}`}var gt=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=ht(),this.portalKey=ht(),this.instanceCreated=this.isStatelessComponent()?xe.AgPromise.resolve(!1):new xe.AgPromise(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(xe._.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(xe._.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new xe.AgPromise(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var r;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,ie(V({},e),{key:this.key})),this.portal=(0,Bt.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,ut.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,t=>{e(t)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(!this.componentType.cellRenderer)return!1;const t=console.error;try{return console.error=()=>{},(0,Wt.renderToStaticMarkup)((0,ut.createElement)(this.reactComponent,e))===""}catch{}finally{console.error=t}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function tt(e,t,r){e.forEach(s=>{const n=t[s];n&&(r[s]=n)})}var Pe=class extends gt{constructor(){super(...arguments),this.awaitUpdateCallback=new Xe.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=nr}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new Xe.AgPromise(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,tt(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return ie(V({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new Xe.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},ar=class extends Pe{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},lr=class extends Pe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function Rt(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||Ht.AgPromise.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var cr=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return ie(V({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){tt(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Rt(this.floatingFilterParams,e)}},ir=class extends Pe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Rt(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},ur=class extends Pe{refresh(e){this.sourceParams=e,this.refreshProps()}},dr=class extends Pe{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},pr=class extends Pe{refresh(e){this.sourceParams=e,this.refreshProps()}},mr=class extends Pe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},fr=class extends Pe{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},vt=class Ot{constructor(t,r,s){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=r||"div",this.refresher=t,this.maxComponentCreationTimeMs=s||Ot.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(r=>r!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(t,r,s){this.portals=[...this.portals,t],this.waitForInstance(r,s),this.batchUpdate()}updateReactPortal(t,r){this.portals[this.portals.indexOf(t)]=r,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(t,r,s=Date.now()){if(this.destroyed){r(null);return}if(t.rendered())r(t);else{if(Date.now()-s>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(t.isNullValue()){r(t);return}console.error(`AG Grid: React Component '${t.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(()=>{this.waitForInstance(t,r,s)})}}};vt.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var Cr=vt,ue=Lt.default.createContext({}),Ce=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),me=class It{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const n=new It;return n.classesMap=V({},this.classesMap),n.classesMap[t]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Ie=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},hr=Qe.default.createRoot!=null&&Qe.default.flushSync!=null,$e=!1;function gr(e){return $e||setTimeout(()=>$e=!1,0),$e=!0,e()}var rt=(e,t)=>{hr&&e&&!$e?Qe.default.flushSync(t):t()};function st(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],o=new Map,c=new Map;for(let a=0;a<t.length;a++){const l=t[a];c.set(l.getInstanceId(),l)}for(let a=0;a<e.length;a++){const l=e[a];o.set(l.getInstanceId(),l),c.has(l.getInstanceId())&&s.push(l)}for(let a=0;a<t.length;a++){const l=t[a],d=l.getInstanceId();o.has(d)||n.push(l)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:s.length===0?n:n.length===0?s:[...s,...n]}var Be=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();if(!o)return;let c,a,l=!1;return o.then(d=>{if(l){t.destroyBean(d);return}c=d,a=c.getGui(),r.appendChild(a),yt(s,c)}),()=>{l=!0,c&&(a&&a.parentElement&&a.parentElement.removeChild(a),t.destroyBean(c),s&&yt(s,void 0))}},yt=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},Rr=e=>{const t=e.newAgStackInstance();if(t)return t.resolveNow(null,r=>r)},wt=(0,N.forwardRef)((e,t)=>{var r;const s=(0,N.useContext)(ue).context,n=(0,N.useRef)(null),o=(0,N.useRef)(null),c=(0,N.useRef)(null),a=(0,N.useRef)(null),l=(0,N.useRef)(null),d=(0,N.useRef)(),[i,u]=(0,N.useState)(),[g,P]=(0,N.useState)(),[v,h]=(0,N.useState)(),[p,m]=(0,N.useState)(()=>new me),[C,b]=(0,N.useState)(()=>new me("ag-hidden")),[y,S]=(0,N.useState)(()=>new me("ag-hidden")),[B,w]=(0,N.useState)(()=>new me("ag-invisible"));(0,N.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,N.useLayoutEffect)(()=>Be(i,s,o.current),[i]);const j=(0,N.useCallback)(H=>{if(n.current=H,!n.current){s.destroyBean(d.current),d.current=null;return}const W={setInnerRenderer:(M,k)=>{u(M),h(k)},setChildCount:M=>P(M),addOrRemoveCssClass:(M,k)=>m(Z=>Z.setClass(M,k)),setContractedDisplayed:M=>S(k=>k.setClass("ag-hidden",!M)),setExpandedDisplayed:M=>b(k=>k.setClass("ag-hidden",!M)),setCheckboxVisible:M=>w(k=>k.setClass("ag-invisible",!M))};d.current=s.createBean(new dt.GroupCellRendererCtrl),d.current.init(W,n.current,c.current,a.current,l.current,wt,e)},[]),R=(0,N.useMemo)(()=>`ag-cell-wrapper ${p.toString()}`,[p]),F=(0,N.useMemo)(()=>`ag-group-expanded ${C.toString()}`,[C]),O=(0,N.useMemo)(()=>`ag-group-contracted ${y.toString()}`,[y]),I=(0,N.useMemo)(()=>`ag-group-checkbox ${B.toString()}`,[B]),_=i&&i.componentFromFramework,$=_?i.componentClass:void 0,K=i==null&&v!=null,Y=dt._.escapeString(v,!0);return N.default.createElement("span",V({className:R,ref:j},e.colDef?{}:{role:(r=d.current)==null?void 0:r.getCellAriaRole()}),N.default.createElement("span",{className:F,ref:a}),N.default.createElement("span",{className:O,ref:l}),N.default.createElement("span",{className:I,ref:c}),N.default.createElement("span",{className:"ag-group-value",ref:o},K&&N.default.createElement(N.default.Fragment,null,Y),_&&N.default.createElement($,V({},i.params))),N.default.createElement("span",{className:"ag-group-child-count"},g))}),Et=wt,vr=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:s}=(0,oe.useContext)(ue),n=r?t.getColId():void 0,[o,c]=(0,oe.useState)(),a=(0,oe.useRef)(null),l=(0,oe.useRef)(null),d=(0,oe.useRef)(null),i=(0,oe.useRef)();let u=(0,oe.useRef)();r&&!u.current&&(u.current=new et.CssClassManager(()=>a.current));const g=(0,oe.useCallback)(p=>{var m;if(a.current=p,!a.current||!r)return;const C={setWidth:y=>{a.current&&(a.current.style.width=y)},addOrRemoveCssClass:(y,S)=>u.current.addOrRemoveCssClass(y,S),setAriaSort:y=>{a.current&&(y?et._.setAriaSort(a.current,y):et._.removeAriaSort(a.current))},setUserCompDetails:y=>c(y),getUserCompInstance:()=>i.current||void 0};t.setComp(C,a.current,l.current,d.current);const b=t.getSelectAllGui();(m=l.current)==null||m.insertAdjacentElement("afterend",b)},[]);(0,oe.useLayoutEffect)(()=>Be(o,s,d.current,i),[o]),(0,oe.useEffect)(()=>{t.setDragSource(a.current)},[o]);const P=(0,oe.useMemo)(()=>!!(o?.componentFromFramework&&Ie(o.componentClass)),[o]),v=o&&o.componentFromFramework,h=o&&o.componentClass;return oe.default.createElement("div",{ref:g,className:"ag-header-cell","col-id":n,role:"columnheader"},oe.default.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),oe.default.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&P&&oe.default.createElement(h,V({},o.params)),v&&!P&&oe.default.createElement(h,ie(V({},o.params),{ref:i}))))},yr=(0,oe.memo)(vr),wr=e=>{const{context:t}=(0,Q.useContext)(ue),{ctrl:r}=e,[s,n]=(0,Q.useState)(()=>new me),[o,c]=(0,Q.useState)(()=>new me),[a,l]=(0,Q.useState)("false"),[d,i]=(0,Q.useState)(),[u,g]=(0,Q.useState)(),P=(0,Q.useMemo)(()=>r.getColId(),[]),v=(0,Q.useRef)(null),h=(0,Q.useRef)(null),p=(0,Q.useRef)(),m=(0,Q.useCallback)(w=>{if(v.current=w,!v.current)return;const j={setWidth:R=>{v.current&&(v.current.style.width=R)},addOrRemoveCssClass:(R,F)=>n(O=>O.setClass(R,F)),setUserCompDetails:R=>g(R),setResizableDisplayed:R=>{c(F=>F.setClass("ag-hidden",!R)),l(R?"false":"true")},setAriaExpanded:R=>i(R),getUserCompInstance:()=>p.current||void 0};r.setComp(j,v.current,h.current)},[]);(0,Q.useLayoutEffect)(()=>Be(u,t,v.current),[u]),(0,Q.useEffect)(()=>{v.current&&r.setDragSource(v.current)},[u]);const C=(0,Q.useMemo)(()=>!!(u?.componentFromFramework&&Ie(u.componentClass)),[u]),b=(0,Q.useMemo)(()=>"ag-header-group-cell "+s.toString(),[s]),y=(0,Q.useMemo)(()=>"ag-header-cell-resize "+o.toString(),[o]),S=u&&u.componentFromFramework,B=u&&u.componentClass;return Q.default.createElement("div",{ref:m,className:b,"col-id":P,role:"columnheader","aria-expanded":d},S&&C&&Q.default.createElement(B,V({},u.params)),S&&!C&&Q.default.createElement(B,ie(V({},u.params),{ref:p})),Q.default.createElement("div",{ref:h,"aria-hidden":a,className:y}))},Er=(0,Q.memo)(wr);function Pr(e,t){var r,s;((s=(r=e?.getInstance)==null?void 0:r.call(e))!=null?s:mt.AgPromise.resolve(void 0)).then(o=>t(o))}function Ye(){mt._.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var Sr=e=>{const{context:t,gos:r}=(0,D.useContext)(ue),[s,n]=(0,D.useState)(()=>new me("ag-header-cell","ag-floating-filter")),[o,c]=(0,D.useState)(()=>new me),[a,l]=(0,D.useState)(()=>new me("ag-floating-filter-button","ag-hidden")),[d,i]=(0,D.useState)("false"),[u,g]=(0,D.useState)(),[P,v]=(0,D.useState)(1),h=(0,D.useRef)(null),p=(0,D.useRef)(null),m=(0,D.useRef)(null),C=(0,D.useRef)(null),b=(0,D.useRef)(),y=(0,D.useRef)(),S=H=>{H!=null&&b.current&&b.current(H)},{ctrl:B}=e,w=(0,D.useCallback)(H=>{if(h.current=H,!h.current)return;y.current=new jt.AgPromise(M=>{b.current=M});const W={addOrRemoveCssClass:(M,k)=>n(Z=>Z.setClass(M,k)),addOrRemoveBodyCssClass:(M,k)=>c(Z=>Z.setClass(M,k)),setButtonWrapperDisplayed:M=>{l(k=>k.setClass("ag-hidden",!M)),i(M?"false":"true")},setWidth:M=>{h.current&&(h.current.style.width=M)},setCompDetails:M=>g(M),getFloatingFilterComp:()=>y.current?y.current:null,setMenuIcon:M=>{var k;return(k=C.current)==null?void 0:k.appendChild(M)}};B.setComp(W,h.current,C.current,p.current)},[]);(0,D.useLayoutEffect)(()=>Be(u,t,p.current,S),[u]);const j=(0,D.useMemo)(()=>s.toString(),[s]),R=(0,D.useMemo)(()=>o.toString(),[o]),F=(0,D.useMemo)(()=>a.toString(),[a]),O=(0,D.useMemo)(()=>!!(u&&u.componentFromFramework&&Ie(u.componentClass)),[u]),I=(0,D.useMemo)(()=>r.get("reactiveCustomComponents"),[]),_=(0,D.useMemo)(()=>{if(u)if(I){const H=new cr(u.params,()=>v(W=>W+1));return S(H),H}else u.componentFromFramework&&Ye()},[u]),$=_?.getProps(),K=u&&u.componentFromFramework,Y=u&&u.componentClass;return D.default.createElement("div",{ref:w,className:j,role:"gridcell"},D.default.createElement("div",{ref:p,className:R,role:"presentation"},K&&!I&&D.default.createElement(Y,ie(V({},u.params),{ref:O?()=>{}:S})),K&&I&&D.default.createElement(ze.Provider,{value:{setMethods:H=>_.setMethods(H)}},D.default.createElement(Y,V({},$)))),D.default.createElement("div",{ref:m,"aria-hidden":d,className:F,role:"presentation"},D.default.createElement("button",{ref:C,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},br=(0,D.memo)(Sr),_r=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:s}=(0,ce.useMemo)(()=>t.getTopAndHeight(),[]),n=t.getAriaRowIndex(),o=t.getHeaderRowClass(),[c,a]=(0,ce.useState)(()=>s+"px"),[l,d]=(0,ce.useState)(()=>r+"px"),i=(0,ce.useRef)(null),u=(0,ce.useRef)(null),[g,P]=(0,ce.useState)(()=>t.getHeaderCtrls()),v=(0,ce.useRef)(null),h=(0,ce.useCallback)(C=>{if(v.current=C,!C)return;const b={setHeight:y=>a(y),setTop:y=>d(y),setHeaderCtrls:(y,S,B)=>{u.current=i.current,i.current=y;const w=st(u.current,y,S);w!==u.current&&rt(B,()=>P(w))},setWidth:y=>{v.current&&(v.current.style.width=y)}};t.setComp(b,!1)},[]),p=(0,ce.useMemo)(()=>({height:c,top:l}),[c,l]),m=(0,ce.useCallback)(C=>{switch(t.getType()){case pt.HeaderRowType.COLUMN_GROUP:return ce.default.createElement(Er,{ctrl:C,key:C.getInstanceId()});case pt.HeaderRowType.FLOATING_FILTER:return ce.default.createElement(br,{ctrl:C,key:C.getInstanceId()});default:return ce.default.createElement(yr,{ctrl:C,key:C.getInstanceId()})}},[]);return ce.default.createElement("div",{ref:h,className:o,role:"row",style:p,"aria-rowindex":n},g.map(m))},Mr=(0,ce.memo)(_r),Fr=e=>{const[t,r]=(0,le.useState)(!0),[s,n]=(0,le.useState)([]),{context:o}=(0,le.useContext)(ue),c=(0,le.useRef)(null),a=(0,le.useRef)(null),l=(0,le.useRef)(null),d=e.pinned==="left",i=e.pinned==="right",u=!d&&!i,g=(0,le.useCallback)(h=>{if(c.current=h,!c.current){o.destroyBean(l.current),l.current=null;return}const p={setDisplayed:r,setCtrls:m=>n(m),setCenterWidth:m=>{a.current&&(a.current.style.width=m)},setViewportScrollLeft:m=>{c.current&&(c.current.scrollLeft=m)},setPinnedContainerWidth:m=>{c.current&&(c.current.style.width=m,c.current.style.minWidth=m,c.current.style.maxWidth=m)}};l.current=o.createBean(new Vt.HeaderRowContainerCtrl(e.pinned)),l.current.setComp(p,c.current)},[]),P=t?"":"ag-hidden",v=()=>s.map(h=>le.default.createElement(Mr,{ctrl:h,key:h.getInstanceId()}));return le.default.createElement(le.default.Fragment,null,d&&le.default.createElement("div",{ref:g,className:"ag-pinned-left-header "+P,"aria-hidden":!t,role:"rowgroup"},v()),i&&le.default.createElement("div",{ref:g,className:"ag-pinned-right-header "+P,"aria-hidden":!t,role:"rowgroup"},v()),u&&le.default.createElement("div",{ref:g,className:"ag-header-viewport "+P,role:"presentation"},le.default.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},v())))},nt=(0,le.memo)(Fr),Or=()=>{const[e,t]=(0,de.useState)(()=>new me),[r,s]=(0,de.useState)(),{context:n}=(0,de.useContext)(ue),o=(0,de.useRef)(null),c=(0,de.useRef)(null),a=(0,de.useCallback)(i=>{if(o.current=i,!i){n.destroyBean(c.current),c.current=null;return}const u={addOrRemoveCssClass:(g,P)=>t(v=>v.setClass(g,P)),setHeightAndMinHeight:g=>s(g)};c.current=n.createBean(new qt.GridHeaderCtrl),c.current.setComp(u,o.current,o.current)},[]),l=(0,de.useMemo)(()=>"ag-header "+e.toString(),[e]),d=(0,de.useMemo)(()=>({height:r,minHeight:r}),[r]);return de.default.createElement("div",{ref:a,className:l,style:d,role:"presentation"},de.default.createElement(nt,{pinned:"left"}),de.default.createElement(nt,{pinned:null}),de.default.createElement(nt,{pinned:"right"}))},Ir=(0,de.memo)(Or),kr=(e,t)=>{(0,Kt.useEffect)(()=>{const r=t.current;if(r){const s=r.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,r),()=>{s.removeChild(n)}}}},[e])},_e=kr,Gr=e=>{const t=(0,Oe.useRef)(e),r=(0,Oe.useRef)(),s=(0,Oe.useRef)(!1),n=(0,Oe.useRef)(!1),[,o]=(0,Oe.useState)(0);s.current&&(n.current=!0),(0,Oe.useEffect)(()=>(s.current||(r.current=t.current(),s.current=!0),o(c=>c+1),()=>{n.current&&r.current&&r.current()}),[])},Ar=e=>{const[t,r]=(0,De.useState)(),{context:s,popupService:n,localeService:o,gos:c}=(0,De.useContext)(ue);return Gr(()=>{const{editDetails:a,cellCtrl:l,eParentCell:d}=e,{compDetails:i}=a,u=c.get("stopEditingWhenCellsLoseFocus"),g=s.createBean(new $t.PopupEditorWrapper(i.params)),P=g.getGui();if(e.jsChildComp){const b=e.jsChildComp.getGui();b&&P.appendChild(b)}const v={column:l.getColumn(),rowNode:l.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:P,position:a.popupPosition,keepWithinBounds:!0},h=n.positionPopupByComponent.bind(n,v),p=o.getLocaleTextFunc(),m=n.addPopup({modal:u,eChild:P,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:d,positionCallback:h,ariaLabel:p("ariaLabelCellEditor","Cell Editor")}),C=m?m.hideFunc:void 0;return r(g),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{C?.(),s.destroyBean(g)}}),De.default.createElement(De.default.Fragment,null,t&&e.wrappedContent&&(0,Yt.createPortal)(e.wrappedContent,t.getGui()))},Pt=(0,De.memo)(Ar),Tr=(e,t,r,s,n,o)=>{const{context:c}=(0,je.useContext)(ue),a=(0,je.useCallback)(()=>{const l=n.current;if(!l)return;const d=l.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),c.destroyBean(l),n.current=void 0},[]);(0,je.useEffect)(()=>{const l=e!=null,d=e&&e.compDetails&&!e.compDetails.componentFromFramework,i=t&&r==null;if(!(l&&d&&!i)){a();return}const g=e.compDetails;if(n.current){const m=n.current,b=m.refresh!=null&&e.force==!1?m.refresh(g.params):!1;if(b===!0||b===void 0)return;a()}const P=g.newAgStackInstance();if(!P)return;const v=P.resolveNow(null,m=>m);if(!v)return;const h=v.getGui();if(!h)return;(t?r:o.current).appendChild(h),n.current=v},[e,t,s]),(0,je.useEffect)(()=>a,[])},Nr=Tr,xr=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Jt.AgPromise(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return ie(V({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){tt(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Dr=(e,t,r)=>{const s=r.getColumn();if(!e&&t.isPopup&&t.isPopup()){const n=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;Ve._.doOnce(()=>console.warn(n),"jsEditorComp-isPopup-"+r.getColumn().getColId())}if(e&&t.getPopupPosition&&t.getPopupPosition()!=null){const n=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;Ve._.doOnce(()=>console.warn(n),"jsEditorComp-getPopupPosition-"+r.getColumn().getColId())}},Br=(e,t,r)=>{const{compProxy:s}=e;r(s);const n=s.getProps(),o=Ie(t);return f.default.createElement(ze.Provider,{value:{setMethods:c=>s.setMethods(c)}},o&&f.default.createElement(t,V({},n)),!o&&f.default.createElement(t,ie(V({},n),{ref:c=>s.setRef(c)})))},St=(e,t,r)=>{const s=e.compProxy;return f.default.createElement(f.default.Fragment,null,!s&&f.default.createElement(t,ie(V({},e.compDetails.params),{ref:r})),s&&Br(e,t,r))},Wr=(e,t,r,s,n,o)=>{const c=e.compDetails,a=c.componentClass,l=c.componentFromFramework&&!e.popup,d=c.componentFromFramework&&e.popup,i=!c.componentFromFramework&&e.popup;return f.default.createElement(f.default.Fragment,null,l&&St(e,a,t),d&&f.default.createElement(Pt,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:St(e,a,r)}),i&&o&&f.default.createElement(Pt,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:o}))},Hr=(e,t,r,s,n,o,c)=>{const{compDetails:a,value:l}=e,d=!a,i=a&&a.componentFromFramework,u=a&&a.componentClass,g=l?.toString?l.toString():l,P=()=>f.default.createElement(f.default.Fragment,null,d&&f.default.createElement(f.default.Fragment,null,g),i&&!o&&f.default.createElement(u,ie(V({},a.params),{key:t,ref:s})),i&&o&&f.default.createElement(u,ie(V({},a.params),{key:t})));return f.default.createElement(f.default.Fragment,null,n?f.default.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:c},P()):P())},Lr=e=>{const{context:t}=(0,f.useContext)(ue),{cellCtrl:r,printLayout:s,editingRow:n}=e,o=r.getTabIndex(),c=r.getColumnIdSanitised(),a=r.getInstanceId(),[l,d]=(0,f.useState)(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[i,u]=(0,f.useState)(),[g,P]=(0,f.useState)(1),[v,h]=(0,f.useState)(),[p,m]=(0,f.useState)(!1),[C,b]=(0,f.useState)(!1),[y,S]=(0,f.useState)(!1),[B,w]=(0,f.useState)(),j=(0,f.useMemo)(()=>r.isForceWrapper(),[r]),R=(0,f.useMemo)(()=>r.getCellAriaRole(),[r]),F=(0,f.useRef)(null),O=(0,f.useRef)(null),I=(0,f.useRef)(),_=(0,f.useRef)(),$=(0,f.useRef)(),K=(0,f.useRef)([]),Y=(0,f.useRef)(),[H,W]=(0,f.useState)(0),M=(0,f.useCallback)(X=>{Y.current=X,W(ee=>ee+1)},[]),k=l!=null&&(p||y||C),Z=j||k,G=(0,f.useCallback)((X,ee)=>{_.current=ee,ee&&(Dr(X,ee,r),ee.isCancelBeforeStart&&ee.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)}))},[r]),q=(0,f.useCallback)(X=>G(!0,X),[G]),ve=(0,f.useCallback)(X=>G(!1,X),[G]);let L=(0,f.useRef)();L.current||(L.current=new Ve.CssClassManager(()=>F.current)),Nr(l,Z,Y.current,H,I,F);const fe=(0,f.useRef)();(0,f.useLayoutEffect)(()=>{const X=fe.current,ee=l;if(fe.current=l,X==null||X.compDetails==null||ee==null||ee.compDetails==null)return;const re=X.compDetails,A=ee.compDetails;if(re.componentClass!=A.componentClass||O.current==null||O.current.refresh==null)return;O.current.refresh(A.params)!=!0&&P(he=>he+1)},[l]),(0,f.useLayoutEffect)(()=>{if(!(i&&!i.compDetails.componentFromFramework))return;const ee=i.compDetails,re=i.popup===!0,A=Rr(ee);if(!A)return;const se=A.getGui();if(G(re,A),!re){const he=(j?$:F).current;he?.appendChild(se),A.afterGuiAttached&&A.afterGuiAttached()}return w(A),()=>{t.destroyBean(A),G(re,void 0),w(void 0),se&&se.parentElement&&se.parentElement.removeChild(se)}},[i]);const ae=(0,f.useCallback)(X=>{if($.current=X,!$.current){K.current.forEach(re=>re()),K.current=[];return}const ee=re=>{var A;if(re){const se=re.getGui();(A=$.current)==null||A.insertAdjacentElement("afterbegin",se),K.current.push(()=>{t.destroyBean(re),Ve._.removeFromParent(se)})}return re};if(p){const re=r.createSelectionCheckbox();ee(re)}y&&ee(r.createDndSource()),C&&ee(r.createRowDragComp())},[r,t,y,C,p]),we=(0,f.useCallback)(X=>{if(F.current=X,!F.current||!r)return;const ee={addOrRemoveCssClass:(A,se)=>L.current.addOrRemoveCssClass(A,se),setUserStyles:A=>h(A),getFocusableElement:()=>F.current,setIncludeSelection:A=>m(A),setIncludeRowDrag:A=>b(A),setIncludeDndSource:A=>S(A),getCellEditor:()=>_.current||null,getCellRenderer:()=>O.current?O.current:I.current,getParentOfValue:()=>Y.current?Y.current:$.current?$.current:F.current,setRenderDetails:(A,se,he)=>{d(ge=>ge?.compDetails!==A||ge?.value!==se||ge?.force!==he?{value:se,compDetails:A,force:he}:ge)},setEditDetails:(A,se,he,ge)=>{if(A){let Me;ge?Me=new xr(A.params,()=>P(ot=>ot+1)):A.componentFromFramework&&Ye(),u({compDetails:A,popup:se,popupPosition:he,compProxy:Me}),se||d(void 0)}else u(Me=>{Me?.compProxy&&(_.current=void 0)})}},re=$.current||void 0;r.setComp(ee,F.current,re,s,n)},[]),ke=(0,f.useMemo)(()=>!!(l&&l.compDetails&&l.compDetails.componentFromFramework&&Ie(l.compDetails.componentClass)),[l]);(0,f.useLayoutEffect)(()=>{var X;F.current&&(L.current.addOrRemoveCssClass("ag-cell-value",!Z),L.current.addOrRemoveCssClass("ag-cell-inline-editing",!!i&&!i.popup),L.current.addOrRemoveCssClass("ag-cell-popup-editing",!!i&&!!i.popup),L.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!i||!!i.popup),(X=r.getRowCtrl())==null||X.setInlineEditingCss(!!i),r.shouldRestoreFocus()&&!r.isEditing()&&F.current.focus({preventScroll:!0}))});const Je=()=>f.default.createElement(f.default.Fragment,null,l!=null&&Hr(l,g,a,O,Z,ke,M),i!=null&&Wr(i,ve,q,F.current,r,B));return f.default.createElement("div",{ref:we,style:v,tabIndex:o,role:R,"col-id":c},Z?f.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ae},Je()):Je())},Ur=(0,f.memo)(Lr),qr=e=>{const{context:t,gos:r}=(0,x.useContext)(ue),{rowCtrl:s,containerType:n}=e,o=s.getTabIndex(),c=(0,x.useRef)(s.getDomOrder()),a=s.isFullWidth(),l=s.getRowNode().displayed,[d,i]=(0,x.useState)(()=>l?s.getRowIndex():null),[u,g]=(0,x.useState)(()=>s.getRowId()),[P,v]=(0,x.useState)(()=>s.getBusinessKey()),[h,p]=(0,x.useState)(()=>s.getRowStyles()),m=(0,x.useRef)(null),C=(0,x.useRef)(null),[b,y]=(0,x.useState)(()=>null),[S,B]=(0,x.useState)(),[w,j]=(0,x.useState)(()=>l?s.getInitialRowTop(n):void 0),[R,F]=(0,x.useState)(()=>l?s.getInitialTransform(n):void 0),O=(0,x.useRef)(null),I=(0,x.useRef)(),_=(0,x.useRef)(!1),[$,K]=(0,x.useState)(0);(0,x.useEffect)(()=>{var L;if(_.current||!S||$>10)return;const fe=(L=O.current)==null?void 0:L.firstChild;fe?(s.setupDetailRowAutoHeight(fe),_.current=!0):K(ae=>ae+1)},[S,$]);let Y=(0,x.useRef)();Y.current||(Y.current=new zt.CssClassManager(()=>O.current));const H=(0,x.useCallback)(L=>{if(O.current=L,!O.current){s.unsetComp(n);return}if(!s.isAlive())return;const fe={setTop:j,setTransform:F,addOrRemoveCssClass:(ae,we)=>Y.current.addOrRemoveCssClass(ae,we),setDomOrder:ae=>c.current=ae,setRowIndex:i,setRowId:g,setRowBusinessKey:v,setUserStyles:p,setCellCtrls:(ae,we)=>{C.current=m.current,m.current=ae;const ke=st(C.current,ae,c.current);ke!==C.current&&rt(we,()=>y(ke))},showFullWidth:ae=>B(ae),getFullWidthCellRenderer:()=>I.current,refreshFullWidth:ae=>G.current?(B(we=>ie(V({},we),{params:ae()})),!0):!I.current||!I.current.refresh?!1:I.current.refresh(ae())};s.setComp(fe,O.current,n)},[]);(0,x.useLayoutEffect)(()=>Be(S,t,O.current,I),[S]);const W=(0,x.useMemo)(()=>{const L={top:w,transform:R};return Object.assign(L,h),L},[w,R,h]),M=a&&S&&S.componentFromFramework,k=!a&&b!=null,Z=(0,x.useMemo)(()=>!!(S?.componentFromFramework&&Ie(S.componentClass)),[S]),G=(0,x.useRef)(!1);(0,x.useEffect)(()=>{G.current=Z&&!!S&&!!r.get("reactiveCustomComponents")},[Z,S]);const q=()=>b?.map(L=>x.default.createElement(Ur,{cellCtrl:L,editingRow:s.isEditing(),printLayout:s.isPrintLayout(),key:L.getInstanceId()})),ve=()=>{const L=S.componentClass;return x.default.createElement(x.default.Fragment,null,Z&&x.default.createElement(L,V({},S.params)),!Z&&x.default.createElement(L,ie(V({},S.params),{ref:I})))};return x.default.createElement("div",{ref:H,role:"row",style:W,"row-index":d,"row-id":u,"row-business-key":P,tabIndex:o},k&&q(),M&&ve())},Vr=(0,x.memo)(qr),jr=e=>{const{context:t}=(0,J.useContext)(ue),{name:r}=e,s=(0,J.useMemo)(()=>(0,Ee.getRowContainerTypeForName)(r),[r]),n=(0,J.useRef)(null),o=(0,J.useRef)(null),c=(0,J.useRef)([]),a=(0,J.useRef)([]),[l,d]=(0,J.useState)(()=>[]),i=(0,J.useRef)(!1),u=(0,J.useRef)(),g=(0,J.useMemo)(()=>Ee.RowContainerCtrl.getRowContainerCssClasses(r),[r]),P=(0,J.useMemo)(()=>Ce(g.viewport),[g]),v=(0,J.useMemo)(()=>Ce(g.container),[g]),h=r===Ee.RowContainerName.CENTER||r===Ee.RowContainerName.TOP_CENTER||r===Ee.RowContainerName.BOTTOM_CENTER||r===Ee.RowContainerName.STICKY_TOP_CENTER||r===Ee.RowContainerName.STICKY_BOTTOM_CENTER,p=h?n:o;_e(" AG Row Container "+r+" ",p);const m=(0,J.useCallback)(()=>h?n.current!=null&&o.current!=null:o.current!=null,[]),C=(0,J.useCallback)(()=>h?n.current==null&&o.current==null:o.current==null,[]),b=(0,J.useCallback)(()=>{if(C()&&(t.destroyBean(u.current),u.current=null),m()){const w=R=>{const F=st(a.current,c.current,i.current);F!==a.current&&(a.current=F,rt(R,()=>d(F)))},j={setViewportHeight:R=>{n.current&&(n.current.style.height=R)},setRowCtrls:({rowCtrls:R,useFlushSync:F})=>{const O=!!F&&c.current.length>0&&R.length>0;c.current=R,w(O)},setDomOrder:R=>{i.current!=R&&(i.current=R,w(!1))},setContainerWidth:R=>{o.current&&(o.current.style.width=R)}};u.current=t.createBean(new Ee.RowContainerCtrl(r)),u.current.setComp(j,o.current,n.current)}},[m,C]),y=(0,J.useCallback)(w=>{o.current=w,b()},[b]),S=(0,J.useCallback)(w=>{n.current=w,b()},[b]),B=()=>J.default.createElement("div",{className:v,ref:y,role:"rowgroup"},l.map(w=>J.default.createElement(Vr,{rowCtrl:w,containerType:s,key:w.getInstanceId()})));return J.default.createElement(J.default.Fragment,null,h?J.default.createElement("div",{className:P,ref:S,role:"presentation"},B()):B())},Kr=(0,J.memo)(jr),zr=()=>{const{context:e,agStackComponentsRegistry:t,resizeObserverService:r}=(0,E.useContext)(ue),[s,n]=(0,E.useState)(""),[o,c]=(0,E.useState)(0),[a,l]=(0,E.useState)(0),[d,i]=(0,E.useState)("0px"),[u,g]=(0,E.useState)("0px"),[P,v]=(0,E.useState)("100%"),[h,p]=(0,E.useState)("0px"),[m,C]=(0,E.useState)("0px"),[b,y]=(0,E.useState)("100%"),[S,B]=(0,E.useState)(""),[w,j]=(0,E.useState)(""),[R,F]=(0,E.useState)(null),[O,I]=(0,E.useState)(""),[_,$]=(0,E.useState)(null),[K,Y]=(0,E.useState)("ag-layout-normal");let H=(0,E.useRef)();H.current||(H.current=new z.CssClassManager(()=>W.current));const W=(0,E.useRef)(null),M=(0,E.useRef)(null),k=(0,E.useRef)(null),Z=(0,E.useRef)(null),G=(0,E.useRef)(null),q=(0,E.useRef)(null),ve=(0,E.useRef)(null),L=(0,E.useRef)([]),fe=(0,E.useRef)([]);_e(" AG Grid Body ",W),_e(" AG Pinned Top ",M),_e(" AG Sticky Top ",k),_e(" AG Middle ",q),_e(" AG Pinned Bottom ",ve);const ae=(0,E.useCallback)(Ge=>{if(W.current=Ge,!W.current){e.destroyBeans(L.current),fe.current.forEach(ne=>ne()),L.current=[],fe.current=[];return}if(!e)return;const Le=ne=>{const ye=t.getComponentClass(ne),Ft=e.createBean(new ye);return L.current.push(Ft),Ft},Se=(ne,ye)=>{ne.appendChild(ye),fe.current.push(()=>ne.removeChild(ye))};Se(W.current,document.createComment(" AG Fake Horizontal Scroll ")),Se(W.current,Le("AG-FAKE-HORIZONTAL-SCROLL").getGui()),Se(W.current,document.createComment(" AG Overlay Wrapper ")),Se(W.current,Le("AG-OVERLAY-WRAPPER").getGui()),G.current&&(Se(G.current,document.createComment(" AG Fake Vertical Scroll ")),Se(G.current,Le("AG-FAKE-VERTICAL-SCROLL").getGui()));const at={setRowAnimationCssOnBodyViewport:n,setColumnCount:ne=>{W.current&&z._.setAriaColCount(W.current,ne)},setRowCount:ne=>{W.current&&z._.setAriaRowCount(W.current,ne)},setTopHeight:c,setBottomHeight:l,setStickyTopHeight:i,setStickyTopTop:g,setStickyTopWidth:v,setTopDisplay:B,setBottomDisplay:j,setColumnMovingCss:(ne,ye)=>H.current.addOrRemoveCssClass(ne,ye),updateLayoutClasses:Y,setAlwaysVerticalScrollClass:F,setPinnedTopBottomOverflowY:I,setCellSelectableCss:(ne,ye)=>$(ye?ne:null),setBodyViewportWidth:ne=>{q.current&&(q.current.style.width=ne)},registerBodyViewportResizeListener:ne=>{if(q.current){const ye=r.observeResize(q.current,ne);fe.current.push(()=>ye())}},setStickyBottomHeight:p,setStickyBottomBottom:C,setStickyBottomWidth:y},Mt=e.createBean(new z.GridBodyCtrl);L.current.push(Mt),Mt.setComp(at,W.current,q.current,M.current,ve.current,k.current,Z.current)},[]),we=(0,E.useMemo)(()=>Ce("ag-root","ag-unselectable",K),[K]),ke=(0,E.useMemo)(()=>Ce("ag-body-viewport",s,K,R,_),[s,K,R,_]),Je=(0,E.useMemo)(()=>Ce("ag-body",K),[K]),X=(0,E.useMemo)(()=>Ce("ag-floating-top",_),[_]),ee=(0,E.useMemo)(()=>Ce("ag-sticky-top",_),[_]),re=(0,E.useMemo)(()=>Ce("ag-sticky-bottom",_),[_]),A=(0,E.useMemo)(()=>Ce("ag-floating-bottom",_),[_]),se=(0,E.useMemo)(()=>({height:o,minHeight:o,display:S,overflowY:O}),[o,S,O]),he=(0,E.useMemo)(()=>({height:d,top:u,width:P}),[d,u,P]),ge=(0,E.useMemo)(()=>({height:h,bottom:m,width:b}),[h,m,b]),Me=(0,E.useMemo)(()=>({height:a,minHeight:a,display:w,overflowY:O}),[a,w,O]),ot=Ge=>E.default.createElement(Kr,{name:Ge,key:`${Ge}-container`}),He=({section:Ge,children:Le,className:Se,style:at})=>E.default.createElement("div",{ref:Ge,className:Se,role:"presentation",style:at},Le.map(ot));return E.default.createElement("div",{ref:ae,className:we,role:"treegrid"},E.default.createElement(Ir,null),He({section:M,className:X,style:se,children:[z.RowContainerName.TOP_LEFT,z.RowContainerName.TOP_CENTER,z.RowContainerName.TOP_RIGHT,z.RowContainerName.TOP_FULL_WIDTH]}),E.default.createElement("div",{className:Je,ref:G,role:"presentation"},He({section:q,className:ke,children:[z.RowContainerName.LEFT,z.RowContainerName.CENTER,z.RowContainerName.RIGHT,z.RowContainerName.FULL_WIDTH]})),He({section:k,className:ee,style:he,children:[z.RowContainerName.STICKY_TOP_LEFT,z.RowContainerName.STICKY_TOP_CENTER,z.RowContainerName.STICKY_TOP_RIGHT,z.RowContainerName.STICKY_TOP_FULL_WIDTH]}),He({section:Z,className:re,style:ge,children:[z.RowContainerName.STICKY_BOTTOM_LEFT,z.RowContainerName.STICKY_BOTTOM_CENTER,z.RowContainerName.STICKY_BOTTOM_RIGHT,z.RowContainerName.STICKY_BOTTOM_FULL_WIDTH]}),He({section:ve,className:A,style:Me,children:[z.RowContainerName.BOTTOM_LEFT,z.RowContainerName.BOTTOM_CENTER,z.RowContainerName.BOTTOM_RIGHT,z.RowContainerName.BOTTOM_FULL_WIDTH]}))},$r=(0,E.memo)(zr),Yr=(e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:n,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:c}=e,{context:a}=(0,pe.useContext)(ue),l=(0,pe.useRef)(null),d=(0,pe.useRef)(null),i=(0,pe.useRef)(),u=p=>{const m=p==null?void 0:parseInt(p,10).toString();[l,d].forEach(C=>{var b,y;m===void 0?(b=C.current)==null||b.removeAttribute("tabindex"):(y=C.current)==null||y.setAttribute("tabindex",m)})};(0,pe.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(p){var m;(m=i.current)==null||m.forceFocusOutOfContainer(p)}}));const g=(0,pe.useCallback)(()=>{if(!l.current&&!d.current){a.destroyBean(i.current),i.current=null;return}if(l.current&&d.current){const p={setTabIndex:u};i.current=a.createBean(new Ke.TabGuardCtrl({comp:p,eTopGuard:l.current,eBottomGuard:d.current,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:m=>o.focusInnerElement(m)}))}},[]),P=(0,pe.useCallback)(p=>{l.current=p,g()},[g]),v=(0,pe.useCallback)(p=>{d.current=p,g()},[g]),h=p=>{const m=p==="top"?Ke.TabGuardClassNames.TAB_GUARD_TOP:Ke.TabGuardClassNames.TAB_GUARD_BOTTOM;return pe.default.createElement("div",{className:`${Ke.TabGuardClassNames.TAB_GUARD} ${m}`,role:"presentation",ref:p==="top"?P:v})};return pe.default.createElement(pe.default.Fragment,null,h("top"),r,h("bottom"))},Jr=(0,pe.forwardRef)(Yr),Zr=(0,pe.memo)(Jr),Xr=({context:e})=>{const[t,r]=(0,U.useState)(""),[s,n]=(0,U.useState)(""),[o,c]=(0,U.useState)(""),[a,l]=(0,U.useState)(null),[d,i]=(0,U.useState)(null),[u,g]=(0,U.useState)(!1),[P,v]=(0,U.useState)(),h=(0,U.useRef)(null),p=(0,U.useRef)(null),m=(0,U.useRef)(),[C,b]=(0,U.useState)(null),y=(0,U.useRef)(()=>{}),S=(0,U.useCallback)(()=>{},[]),B=(0,U.useMemo)(()=>e.isDestroyed()?null:e.getBean("beans"),[e]);_e(" AG Grid ",p);const w=(0,U.useCallback)(I=>{if(p.current=I,!p.current){e.destroyBean(h.current),h.current=null;return}if(e.isDestroyed())return;h.current=e.createBean(new Ut.GridCtrl);const _=h.current;y.current=_.focusInnerElement.bind(_);const $={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:K=>{var Y;(Y=m.current)==null||Y.forceFocusOutOfContainer(K)},updateLayoutClasses:c,getFocusableContainers:()=>{var K,Y;const H=[],W=(K=p.current)==null?void 0:K.querySelector(".ag-root"),M=(Y=p.current)==null?void 0:Y.querySelector(".ag-side-bar:not(.ag-hidden)");return W&&H.push(W),M&&H.push(M),H},setCursor:l,setUserSelect:i};_.setComp($,p.current,p.current),g(!0)},[]);(0,U.useEffect)(()=>{if(!P||!B||!h.current||!C||!p.current)return;const I=h.current,_=[],{agStackComponentsRegistry:$}=B,K=$.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),Y=$.getComponentClass("AG-SIDE-BAR"),H=$.getComponentClass("AG-STATUS-BAR"),W=$.getComponentClass("AG-WATERMARK"),M=$.getComponentClass("AG-PAGINATION"),k=[],Z=p.current;if(I.showDropZones()&&K){const G=e.createBean(new K),q=G.getGui();Z.insertAdjacentElement("afterbegin",q),k.push(q),_.push(G)}if(I.showSideBar()&&Y){const G=e.createBean(new Y),q=G.getGui(),ve=C.querySelector(".ag-tab-guard-bottom");ve&&(ve.insertAdjacentElement("beforebegin",q),k.push(q)),_.push(G)}if(I.showStatusBar()&&H){const G=e.createBean(new H),q=G.getGui();Z.insertAdjacentElement("beforeend",q),k.push(q),_.push(G)}if(M){const G=e.createBean(new M),q=G.getGui();Z.insertAdjacentElement("beforeend",q),k.push(q),_.push(G)}if(I.showWatermark()&&W){const G=e.createBean(new W),q=G.getGui();Z.insertAdjacentElement("beforeend",q),k.push(q),_.push(G)}return()=>{e.destroyBeans(_),k.forEach(G=>{G.parentElement&&G.parentElement.removeChild(G)})}},[P,C,B]);const j=(0,U.useMemo)(()=>Ce("ag-root-wrapper",t,s,o),[t,s,o]),R=(0,U.useMemo)(()=>Ce("ag-root-wrapper-body","ag-focus-managed",o),[o]),F=(0,U.useMemo)(()=>({userSelect:d??"",WebkitUserSelect:d??"",cursor:a??""}),[d,a]),O=(0,U.useCallback)(I=>{m.current=I,v(I!==null)},[]);return U.default.createElement("div",{ref:w,className:j,style:F,role:"presentation"},U.default.createElement("div",{className:R,ref:b,role:"presentation"},u&&C&&B&&U.default.createElement(ue.Provider,{value:B},U.default.createElement(Zr,{ref:O,eFocusableElement:C,onTabKeyDown:S,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0},U.default.createElement($r,null)))))},Qr=(0,U.memo)(Xr),bt=e=>{var t,r;const s=(0,T.useRef)(),n=(0,T.useRef)(null),o=(0,T.useRef)(null),c=(0,T.useRef)([]),a=(0,T.useRef)([]),l=(0,T.useRef)(e),d=(0,T.useRef)(!1),[i,u]=(0,T.useState)(void 0),[,g]=(0,T.useState)(0),P=(0,T.useCallback)(p=>{if(n.current=p,!n.current){c.current.forEach(w=>w()),c.current.length=0;return}const m=e.modules||[];o.current||(o.current=new Cr(()=>g(w=>w+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),c.current.push(()=>{var w;(w=o.current)==null||w.destroy(),o.current=null}));const C=Re.ComponentUtil.combineAttributesAndGridOptions(e.gridOptions,e),b={providedBeanInstances:{frameworkComponentWrapper:new ts(o.current,!!C.reactiveCustomComponents)},modules:m,frameworkOverrides:new ss},y=w=>{u(w),c.current.push(()=>{w.destroy()}),w.getBean(Re.CtrlsService.NAME).whenReady(()=>{if(w.isDestroyed())return;const R=s.current;R&&e.setGridApi&&e.setGridApi(R,new Re.ColumnApi(R))})},S=w=>{w.getBean(Re.CtrlsService.NAME).whenReady(()=>{a.current.forEach(R=>R()),a.current.length=0,d.current=!0})},B=new Re.GridCoreCreator;s.current=B.create(n.current,C,y,S,b)},[]),v=(0,T.useMemo)(()=>V({height:"100%"},e.containerStyle||{}),[e.containerStyle]),h=(0,T.useCallback)(p=>{d.current?p():a.current.push(p)},[]);return(0,T.useEffect)(()=>{const p=es(l.current,e);l.current=e,h(()=>{s.current&&Re.ComponentUtil.processOnChange(p,s.current)})},[e]),T.default.createElement("div",{style:v,className:e.className,ref:P},i&&!i.isDestroyed()?T.default.createElement(Qr,{context:i}):null,(r=(t=o.current)==null?void 0:t.getPortals())!=null?r:null)};function es(e,t){const r={};return Object.keys(t).forEach(s=>{const n=t[s];e[s]!==n&&(r[s]=n)}),r}var ts=class extends Re.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(o=>{switch(o){case"filter":return lr;case"floatingFilterComponent":return ir;case"dateComponent":return ar;case"loadingOverlayComponent":return ur;case"noRowsOverlayComponent":return pr;case"statusPanel":return mr;case"toolPanel":return fr;case"menuItem":return dr}})(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":Ye();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new gt(e,this.parent,t,r)}},rs=(0,T.forwardRef)((e,t)=>{const{ctrlsFactory:r,context:s,gos:n,resizeObserverService:o,clientSideRowModel:c,serverSideRowModel:a}=(0,T.useContext)(ue),[l,d]=(0,T.useState)(()=>new me),[i,u]=(0,T.useState)(()=>new me),[g,P]=(0,T.useState)(),[v,h]=(0,T.useState)(),p=(0,T.useRef)(),m=(0,T.useRef)(null),C=(0,T.useRef)(),b=(0,T.useMemo)(()=>Re.ModuleRegistry.__getGridRegisteredModules(e.api.getGridId()),[e]),y=(0,T.useMemo)(()=>l.toString()+" ag-details-row",[l]),S=(0,T.useMemo)(()=>i.toString()+" ag-details-grid",[i]);t&&(0,T.useImperativeHandle)(t,()=>({refresh(){var j,R;return(R=(j=p.current)==null?void 0:j.refresh())!=null?R:!1}})),e.template&&Re._.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const B=(0,T.useCallback)(j=>{if(m.current=j,!m.current){s.destroyBean(p.current),C.current&&C.current();return}const R={addOrRemoveCssClass:(O,I)=>d(_=>_.setClass(O,I)),addOrRemoveDetailGridCssClass:(O,I)=>u(_=>_.setClass(O,I)),setDetailGrid:O=>P(O),setRowData:O=>h(O),getGui:()=>m.current},F=r.getInstance("detailCellRenderer");if(F&&(s.createBean(F),F.init(R,e),p.current=F,n.get("detailRowAutoHeight"))){const O=()=>{if(m.current==null)return;const I=m.current.clientHeight;I!=null&&I>0&&setTimeout(()=>{e.node.setRowHeight(I),c?c.onRowHeightChanged():a&&a.onRowHeightChanged()},0)};C.current=o.observeResize(m.current,O),O()}},[]),w=(0,T.useCallback)((j,R)=>{var F;(F=p.current)==null||F.registerDetailWithMaster(j,R)},[]);return T.default.createElement("div",{className:y,ref:B},g&&T.default.createElement(bt,ie(V({className:S},g),{modules:b,rowData:v,setGridApi:w})))}),ss=class extends Re.VanillaFrameworkOverrides{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:Et,agGroupRowRenderer:Et,agDetailCellRenderer:rs},this.wrapIncoming=(e,t)=>t==="ensureVisible"?gr(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}},ns=class extends it.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t,this.apiListeners.forEach(r=>r(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return it.default.createElement(bt,ie(V({},this.props),{setGridApi:this.setGridApi}))}},_t=(e=>(e.IdentityCheck="IdentityCheck",e.DeepValueCheck="DeepValueCheck",e.NoCheck="NoCheck",e))(_t||{});function We(e){const{setMethods:t}=(0,Zt.useContext)(ze);t(e)}function os(e){We(e)}function as(e){return We(e)}function ls(e){return We(e)}function cs(e){We(e)}function is(e){We(e)}if(typeof be.exports=="object"&&typeof Fe=="object"){var us=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Object.getOwnPropertyNames(t))!Object.prototype.hasOwnProperty.call(e,n)&&n!==r&&Object.defineProperty(e,n,{get:()=>t[n],enumerable:!(s=Object.getOwnPropertyDescriptor(t,n))||s.enumerable});return e};be.exports=us(be.exports,Fe)}return be.exports});

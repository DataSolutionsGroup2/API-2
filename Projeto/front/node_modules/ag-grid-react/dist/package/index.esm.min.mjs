var mr=Object.defineProperty,pr=Object.defineProperties,Cr=Object.getOwnPropertyDescriptors,Ot=Object.getOwnPropertySymbols,hr=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable,Tt=(e,t,r)=>t in e?mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,W=(e,t)=>{for(var r in t||(t={}))hr.call(t,r)&&Tt(e,r,t[r]);if(Ot)for(var r of Ot(t))fr.call(t,r)&&Tt(e,r,t[r]);return e},q=(e,t)=>pr(e,Cr(t));import gr,{Component as Rr}from"react";import{BaseComponentWrapper as vr,ColumnApi as yr,ComponentUtil as _t,CtrlsService as xt,GridCoreCreator as wr,ModuleRegistry as Er,VanillaFrameworkOverrides as Pr,_ as br}from"ag-grid-community";import Ye,{forwardRef as Sr,useCallback as Je,useContext as Fr,useEffect as Ir,useImperativeHandle as Mr,useMemo as Ze,useRef as ce,useState as Fe}from"react";import{AgPromise as dt}from"ag-grid-community";import Bt,{memo as kr,useEffect as Ar,useState as Gr}from"react";import{createContext as Or}from"react";var qe=Or({setMethods:()=>{}}),Tr=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:n}=e,[o,c]=Gr(t);return Ar(()=>{r(a=>c(a))},[]),Bt.createElement(qe.Provider,{value:{setMethods:n}},Bt.createElement(s,W({},o)))},_r=kr(Tr);import{createElement as Dt}from"react";import{AgPromise as mt,_ as Nt}from"ag-grid-community";var xr=0;function Wt(){return`agPortalKey_${++xr}`}import{createPortal as Br}from"react-dom";import{renderToStaticMarkup as Dr}from"react-dom/server";var Ht=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Wt(),this.portalKey=Wt(),this.instanceCreated=this.isStatelessComponent()?mt.resolve(!1):new mt(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(Nt.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(Nt.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new mt(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var r;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,q(W({},e),{key:this.key})),this.portal=Br(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return Dt(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,t=>{e(t)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(!this.componentType.cellRenderer)return!1;const t=console.error;try{return console.error=()=>{},Dr(Dt(this.reactComponent,e))===""}catch{}finally{console.error=t}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function pt(e,t,r){e.forEach(s=>{const n=t[s];n&&(r[s]=n)})}var fe=class extends Ht{constructor(){super(...arguments),this.awaitUpdateCallback=new dt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=_r}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new dt(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,pt(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return q(W({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new dt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Nr=class extends fe{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Wr=class extends fe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};import{AgPromise as Hr}from"ag-grid-community";function Lt(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||Hr.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Lr=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return q(W({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){pt(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Lt(this.floatingFilterParams,e)}},Ur=class extends fe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Lt(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Vr=class extends fe{refresh(e){this.sourceParams=e,this.refreshProps()}},jr=class extends fe{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Kr=class extends fe{refresh(e){this.sourceParams=e,this.refreshProps()}},zr=class extends fe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},$r=class extends fe{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},Ut=class ur{constructor(t,r,s){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=r||"div",this.refresher=t,this.maxComponentCreationTimeMs=s||ur.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(r=>r!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(t,r,s){this.portals=[...this.portals,t],this.waitForInstance(r,s),this.batchUpdate()}updateReactPortal(t,r){this.portals[this.portals.indexOf(t)]=r,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(t,r,s=Date.now()){if(this.destroyed){r(null);return}if(t.rendered())r(t);else{if(Date.now()-s>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(t.isNullValue()){r(t);return}console.error(`AG Grid: React Component '${t.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(()=>{this.waitForInstance(t,r,s)})}}};Ut.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var Yr=Ut;import Jr from"react";var X=Jr.createContext({});import Ct from"react-dom";var ne=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),te=class dr{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const n=new dr;return n.classesMap=W({},this.classesMap),n.classesMap[t]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Ie=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Zr=Ct.createRoot!=null&&Ct.flushSync!=null,Xe=!1;function qr(e){return Xe||setTimeout(()=>Xe=!1,0),Xe=!0,e()}var ht=(e,t)=>{Zr&&e&&!Xe?Ct.flushSync(t):t()};function ft(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],o=new Map,c=new Map;for(let a=0;a<t.length;a++){const l=t[a];c.set(l.getInstanceId(),l)}for(let a=0;a<e.length;a++){const l=e[a];o.set(l.getInstanceId(),l),c.has(l.getInstanceId())&&s.push(l)}for(let a=0;a<t.length;a++){const l=t[a],d=l.getInstanceId();o.has(d)||n.push(l)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:s.length===0?n:n.length===0?s:[...s,...n]}import{GroupCellRendererCtrl as Xr,_ as Qr}from"ag-grid-community";import de,{useContext as es,useImperativeHandle as ts,forwardRef as rs,useMemo as Qe,useRef as Me,useState as ye,useLayoutEffect as ss,useCallback as ns}from"react";var De=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();if(!o)return;let c,a,l=!1;return o.then(d=>{if(l){t.destroyBean(d);return}c=d,a=c.getGui(),r.appendChild(a),Vt(s,c)}),()=>{l=!0,c&&(a&&a.parentElement&&a.parentElement.removeChild(a),t.destroyBean(c),s&&Vt(s,void 0))}},Vt=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},os=e=>{const t=e.newAgStackInstance();if(t)return t.resolveNow(null,r=>r)},jt=rs((e,t)=>{var r;const s=es(X).context,n=Me(null),o=Me(null),c=Me(null),a=Me(null),l=Me(null),d=Me(),[i,u]=ye(),[f,w]=ye(),[R,h]=ye(),[m,p]=ye(()=>new te),[C,P]=ye(()=>new te("ag-hidden")),[v,E]=ye(()=>new te("ag-hidden")),[O,y]=ye(()=>new te("ag-invisible"));ts(t,()=>({refresh(){return!1}})),ss(()=>De(i,s,o.current),[i]);const D=ns(_=>{if(n.current=_,!n.current){s.destroyBean(d.current),d.current=null;return}const T={setInnerRenderer:(S,k)=>{u(S),h(k)},setChildCount:S=>w(S),addOrRemoveCssClass:(S,k)=>p(U=>U.setClass(S,k)),setContractedDisplayed:S=>E(k=>k.setClass("ag-hidden",!S)),setExpandedDisplayed:S=>P(k=>k.setClass("ag-hidden",!S)),setCheckboxVisible:S=>y(k=>k.setClass("ag-invisible",!S))};d.current=s.createBean(new Xr),d.current.init(T,n.current,c.current,a.current,l.current,jt,e)},[]),g=Qe(()=>`ag-cell-wrapper ${m.toString()}`,[m]),F=Qe(()=>`ag-group-expanded ${C.toString()}`,[C]),I=Qe(()=>`ag-group-contracted ${v.toString()}`,[v]),M=Qe(()=>`ag-group-checkbox ${O.toString()}`,[O]),b=i&&i.componentFromFramework,H=b?i.componentClass:void 0,N=i==null&&R!=null,L=Qr.escapeString(R,!0);return de.createElement("span",W({className:g,ref:D},e.colDef?{}:{role:(r=d.current)==null?void 0:r.getCellAriaRole()}),de.createElement("span",{className:F,ref:a}),de.createElement("span",{className:I,ref:l}),de.createElement("span",{className:M,ref:c}),de.createElement("span",{className:"ag-group-value",ref:o},N&&de.createElement(de.Fragment,null,L),b&&de.createElement(H,W({},i.params))),de.createElement("span",{className:"ag-group-child-count"},f))}),Kt=jt;import{GridCtrl as as}from"ag-grid-community";import Ne,{memo as ls,useCallback as gt,useEffect as cs,useMemo as et,useRef as tt,useState as ge}from"react";import{CssClassManager as is,GridBodyCtrl as us,RowContainerName as z,_ as zt}from"ag-grid-community";import We,{memo as ds,useCallback as ms,useContext as ps,useMemo as oe,useRef as ie,useState as Q}from"react";import rt,{memo as Cs,useCallback as hs,useContext as fs,useMemo as $t,useRef as Yt,useState as Jt}from"react";import{GridHeaderCtrl as gs}from"ag-grid-community";import we,{memo as Rs,useCallback as vs,useContext as ys,useRef as Rt,useState as Zt}from"react";import{HeaderRowContainerCtrl as ws}from"ag-grid-community";import{HeaderRowType as qt}from"ag-grid-community";import st,{memo as Es,useCallback as Xt,useMemo as Qt,useRef as vt,useState as yt}from"react";import He,{memo as Ps,useCallback as bs,useContext as Ss,useEffect as Fs,useLayoutEffect as Is,useMemo as Ms,useRef as Le,useState as ks}from"react";import{CssClassManager as As,_ as er}from"ag-grid-community";var Gs=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:s}=Ss(X),n=r?t.getColId():void 0,[o,c]=ks(),a=Le(null),l=Le(null),d=Le(null),i=Le();let u=Le();r&&!u.current&&(u.current=new As(()=>a.current));const f=bs(m=>{var p;if(a.current=m,!a.current||!r)return;const C={setWidth:v=>{a.current&&(a.current.style.width=v)},addOrRemoveCssClass:(v,E)=>u.current.addOrRemoveCssClass(v,E),setAriaSort:v=>{a.current&&(v?er.setAriaSort(a.current,v):er.removeAriaSort(a.current))},setUserCompDetails:v=>c(v),getUserCompInstance:()=>i.current||void 0};t.setComp(C,a.current,l.current,d.current);const P=t.getSelectAllGui();(p=l.current)==null||p.insertAdjacentElement("afterend",P)},[]);Is(()=>De(o,s,d.current,i),[o]),Fs(()=>{t.setDragSource(a.current)},[o]);const w=Ms(()=>!!(o?.componentFromFramework&&Ie(o.componentClass)),[o]),R=o&&o.componentFromFramework,h=o&&o.componentClass;return He.createElement("div",{ref:f,className:"ag-header-cell","col-id":n,role:"columnheader"},He.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),He.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},R&&w&&He.createElement(h,W({},o.params)),R&&!w&&He.createElement(h,q(W({},o.params),{ref:i}))))},Os=Ps(Gs);import nt,{memo as Ts,useCallback as _s,useContext as xs,useEffect as Bs,useLayoutEffect as Ds,useMemo as ot,useRef as wt,useState as Ue}from"react";var Ns=e=>{const{context:t}=xs(X),{ctrl:r}=e,[s,n]=Ue(()=>new te),[o,c]=Ue(()=>new te),[a,l]=Ue("false"),[d,i]=Ue(),[u,f]=Ue(),w=ot(()=>r.getColId(),[]),R=wt(null),h=wt(null),m=wt(),p=_s(y=>{if(R.current=y,!R.current)return;const D={setWidth:g=>{R.current&&(R.current.style.width=g)},addOrRemoveCssClass:(g,F)=>n(I=>I.setClass(g,F)),setUserCompDetails:g=>f(g),setResizableDisplayed:g=>{c(F=>F.setClass("ag-hidden",!g)),l(g?"false":"true")},setAriaExpanded:g=>i(g),getUserCompInstance:()=>m.current||void 0};r.setComp(D,R.current,h.current)},[]);Ds(()=>De(u,t,R.current),[u]),Bs(()=>{R.current&&r.setDragSource(R.current)},[u]);const C=ot(()=>!!(u?.componentFromFramework&&Ie(u.componentClass)),[u]),P=ot(()=>"ag-header-group-cell "+s.toString(),[s]),v=ot(()=>"ag-header-cell-resize "+o.toString(),[o]),E=u&&u.componentFromFramework,O=u&&u.componentClass;return nt.createElement("div",{ref:p,className:P,"col-id":w,role:"columnheader","aria-expanded":d},E&&C&&nt.createElement(O,W({},u.params)),E&&!C&&nt.createElement(O,q(W({},u.params),{ref:m})),nt.createElement("div",{ref:h,"aria-hidden":a,className:v}))},Ws=Ts(Ns);import Ee,{memo as Hs,useCallback as Ls,useContext as Us,useLayoutEffect as Vs,useMemo as ke,useRef as Ae,useState as Ge}from"react";import{AgPromise as js}from"ag-grid-community";import{AgPromise as Ks,_ as zs}from"ag-grid-community";function $s(e,t){var r,s;((s=(r=e?.getInstance)==null?void 0:r.call(e))!=null?s:Ks.resolve(void 0)).then(o=>t(o))}function at(){zs.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var Ys=e=>{const{context:t,gos:r}=Us(X),[s,n]=Ge(()=>new te("ag-header-cell","ag-floating-filter")),[o,c]=Ge(()=>new te),[a,l]=Ge(()=>new te("ag-floating-filter-button","ag-hidden")),[d,i]=Ge("false"),[u,f]=Ge(),[w,R]=Ge(1),h=Ae(null),m=Ae(null),p=Ae(null),C=Ae(null),P=Ae(),v=Ae(),E=_=>{_!=null&&P.current&&P.current(_)},{ctrl:O}=e,y=Ls(_=>{if(h.current=_,!h.current)return;v.current=new js(S=>{P.current=S});const T={addOrRemoveCssClass:(S,k)=>n(U=>U.setClass(S,k)),addOrRemoveBodyCssClass:(S,k)=>c(U=>U.setClass(S,k)),setButtonWrapperDisplayed:S=>{l(k=>k.setClass("ag-hidden",!S)),i(S?"false":"true")},setWidth:S=>{h.current&&(h.current.style.width=S)},setCompDetails:S=>f(S),getFloatingFilterComp:()=>v.current?v.current:null,setMenuIcon:S=>{var k;return(k=C.current)==null?void 0:k.appendChild(S)}};O.setComp(T,h.current,C.current,m.current)},[]);Vs(()=>De(u,t,m.current,E),[u]);const D=ke(()=>s.toString(),[s]),g=ke(()=>o.toString(),[o]),F=ke(()=>a.toString(),[a]),I=ke(()=>!!(u&&u.componentFromFramework&&Ie(u.componentClass)),[u]),M=ke(()=>r.get("reactiveCustomComponents"),[]),b=ke(()=>{if(u)if(M){const _=new Lr(u.params,()=>R(T=>T+1));return E(_),_}else u.componentFromFramework&&at()},[u]),H=b?.getProps(),N=u&&u.componentFromFramework,L=u&&u.componentClass;return Ee.createElement("div",{ref:y,className:D,role:"gridcell"},Ee.createElement("div",{ref:m,className:g,role:"presentation"},N&&!M&&Ee.createElement(L,q(W({},u.params),{ref:I?()=>{}:E})),N&&M&&Ee.createElement(qe.Provider,{value:{setMethods:_=>b.setMethods(_)}},Ee.createElement(L,W({},H)))),Ee.createElement("div",{ref:p,"aria-hidden":d,className:F,role:"presentation"},Ee.createElement("button",{ref:C,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Js=Hs(Ys),Zs=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:s}=Qt(()=>t.getTopAndHeight(),[]),n=t.getAriaRowIndex(),o=t.getHeaderRowClass(),[c,a]=yt(()=>s+"px"),[l,d]=yt(()=>r+"px"),i=vt(null),u=vt(null),[f,w]=yt(()=>t.getHeaderCtrls()),R=vt(null),h=Xt(C=>{if(R.current=C,!C)return;const P={setHeight:v=>a(v),setTop:v=>d(v),setHeaderCtrls:(v,E,O)=>{u.current=i.current,i.current=v;const y=ft(u.current,v,E);y!==u.current&&ht(O,()=>w(y))},setWidth:v=>{R.current&&(R.current.style.width=v)}};t.setComp(P,!1)},[]),m=Qt(()=>({height:c,top:l}),[c,l]),p=Xt(C=>{switch(t.getType()){case qt.COLUMN_GROUP:return st.createElement(Ws,{ctrl:C,key:C.getInstanceId()});case qt.FLOATING_FILTER:return st.createElement(Js,{ctrl:C,key:C.getInstanceId()});default:return st.createElement(Os,{ctrl:C,key:C.getInstanceId()})}},[]);return st.createElement("div",{ref:h,className:o,role:"row",style:m,"aria-rowindex":n},f.map(p))},qs=Es(Zs),Xs=e=>{const[t,r]=Zt(!0),[s,n]=Zt([]),{context:o}=ys(X),c=Rt(null),a=Rt(null),l=Rt(null),d=e.pinned==="left",i=e.pinned==="right",u=!d&&!i,f=vs(h=>{if(c.current=h,!c.current){o.destroyBean(l.current),l.current=null;return}const m={setDisplayed:r,setCtrls:p=>n(p),setCenterWidth:p=>{a.current&&(a.current.style.width=p)},setViewportScrollLeft:p=>{c.current&&(c.current.scrollLeft=p)},setPinnedContainerWidth:p=>{c.current&&(c.current.style.width=p,c.current.style.minWidth=p,c.current.style.maxWidth=p)}};l.current=o.createBean(new ws(e.pinned)),l.current.setComp(m,c.current)},[]),w=t?"":"ag-hidden",R=()=>s.map(h=>we.createElement(qs,{ctrl:h,key:h.getInstanceId()}));return we.createElement(we.Fragment,null,d&&we.createElement("div",{ref:f,className:"ag-pinned-left-header "+w,"aria-hidden":!t,role:"rowgroup"},R()),i&&we.createElement("div",{ref:f,className:"ag-pinned-right-header "+w,"aria-hidden":!t,role:"rowgroup"},R()),u&&we.createElement("div",{ref:f,className:"ag-header-viewport "+w,role:"presentation"},we.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},R())))},Et=Rs(Xs),Qs=()=>{const[e,t]=Jt(()=>new te),[r,s]=Jt(),{context:n}=fs(X),o=Yt(null),c=Yt(null),a=hs(i=>{if(o.current=i,!i){n.destroyBean(c.current),c.current=null;return}const u={addOrRemoveCssClass:(f,w)=>t(R=>R.setClass(f,w)),setHeightAndMinHeight:f=>s(f)};c.current=n.createBean(new gs),c.current.setComp(u,o.current,o.current)},[]),l=$t(()=>"ag-header "+e.toString(),[e]),d=$t(()=>({height:r,minHeight:r}),[r]);return rt.createElement("div",{ref:a,className:l,style:d,role:"presentation"},rt.createElement(Et,{pinned:"left"}),rt.createElement(Et,{pinned:null}),rt.createElement(Et,{pinned:"right"}))},en=Cs(Qs);import{useEffect as tn}from"react";var rn=(e,t)=>{tn(()=>{const r=t.current;if(r){const s=r.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,r),()=>{s.removeChild(n)}}}},[e])},Pe=rn;import{getRowContainerTypeForName as sn,RowContainerCtrl as tr,RowContainerName as Ve}from"ag-grid-community";import je,{useMemo as lt,useRef as Oe,useState as nn,memo as on,useContext as an,useCallback as Ke}from"react";import Te,{useEffect as rr,useRef as Re,useState as me,useMemo as sr,memo as ln,useContext as cn,useLayoutEffect as un,useCallback as dn}from"react";import{CssClassManager as mn}from"ag-grid-community";import{_ as Pt,CssClassManager as pn}from"ag-grid-community";import V,{useCallback as _e,useRef as pe,useState as Ce,useMemo as bt,memo as Cn,useContext as hn,useLayoutEffect as St}from"react";import{PopupEditorWrapper as fn}from"ag-grid-community";import nr,{useState as gn,memo as Rn,useContext as vn}from"react";import{createPortal as yn}from"react-dom";import{useEffect as wn,useRef as ct,useState as En}from"react";var Pn=e=>{const t=ct(e),r=ct(),s=ct(!1),n=ct(!1),[,o]=En(0);s.current&&(n.current=!0),wn(()=>(s.current||(r.current=t.current(),s.current=!0),o(c=>c+1),()=>{n.current&&r.current&&r.current()}),[])},bn=e=>{const[t,r]=gn(),{context:s,popupService:n,localeService:o,gos:c}=vn(X);return Pn(()=>{const{editDetails:a,cellCtrl:l,eParentCell:d}=e,{compDetails:i}=a,u=c.get("stopEditingWhenCellsLoseFocus"),f=s.createBean(new fn(i.params)),w=f.getGui();if(e.jsChildComp){const P=e.jsChildComp.getGui();P&&w.appendChild(P)}const R={column:l.getColumn(),rowNode:l.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:w,position:a.popupPosition,keepWithinBounds:!0},h=n.positionPopupByComponent.bind(n,R),m=o.getLocaleTextFunc(),p=n.addPopup({modal:u,eChild:w,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:d,positionCallback:h,ariaLabel:m("ariaLabelCellEditor","Cell Editor")}),C=p?p.hideFunc:void 0;return r(f),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{C?.(),s.destroyBean(f)}}),nr.createElement(nr.Fragment,null,t&&e.wrappedContent&&yn(e.wrappedContent,t.getGui()))},or=Rn(bn);import{useCallback as Sn,useContext as Fn,useEffect as ar}from"react";var In=(e,t,r,s,n,o)=>{const{context:c}=Fn(X),a=Sn(()=>{const l=n.current;if(!l)return;const d=l.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),c.destroyBean(l),n.current=void 0},[]);ar(()=>{const l=e!=null,d=e&&e.compDetails&&!e.compDetails.componentFromFramework,i=t&&r==null;if(!(l&&d&&!i)){a();return}const f=e.compDetails;if(n.current){const p=n.current,P=p.refresh!=null&&e.force==!1?p.refresh(f.params):!1;if(P===!0||P===void 0)return;a()}const w=f.newAgStackInstance();if(!w)return;const R=w.resolveNow(null,p=>p);if(!R)return;const h=R.getGui();if(!h)return;(t?r:o.current).appendChild(h),n.current=R},[e,t,s]),ar(()=>a,[])},Mn=In;import{AgPromise as kn}from"ag-grid-community";var An=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new kn(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return q(W({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){pt(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Gn=(e,t,r)=>{const s=r.getColumn();if(!e&&t.isPopup&&t.isPopup()){const n=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;Pt.doOnce(()=>console.warn(n),"jsEditorComp-isPopup-"+r.getColumn().getColId())}if(e&&t.getPopupPosition&&t.getPopupPosition()!=null){const n=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;Pt.doOnce(()=>console.warn(n),"jsEditorComp-getPopupPosition-"+r.getColumn().getColId())}},On=(e,t,r)=>{const{compProxy:s}=e;r(s);const n=s.getProps(),o=Ie(t);return V.createElement(qe.Provider,{value:{setMethods:c=>s.setMethods(c)}},o&&V.createElement(t,W({},n)),!o&&V.createElement(t,q(W({},n),{ref:c=>s.setRef(c)})))},lr=(e,t,r)=>{const s=e.compProxy;return V.createElement(V.Fragment,null,!s&&V.createElement(t,q(W({},e.compDetails.params),{ref:r})),s&&On(e,t,r))},Tn=(e,t,r,s,n,o)=>{const c=e.compDetails,a=c.componentClass,l=c.componentFromFramework&&!e.popup,d=c.componentFromFramework&&e.popup,i=!c.componentFromFramework&&e.popup;return V.createElement(V.Fragment,null,l&&lr(e,a,t),d&&V.createElement(or,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:lr(e,a,r)}),i&&o&&V.createElement(or,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:o}))},_n=(e,t,r,s,n,o,c)=>{const{compDetails:a,value:l}=e,d=!a,i=a&&a.componentFromFramework,u=a&&a.componentClass,f=l?.toString?l.toString():l,w=()=>V.createElement(V.Fragment,null,d&&V.createElement(V.Fragment,null,f),i&&!o&&V.createElement(u,q(W({},a.params),{key:t,ref:s})),i&&o&&V.createElement(u,q(W({},a.params),{key:t})));return V.createElement(V.Fragment,null,n?V.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:c},w()):w())},xn=e=>{const{context:t}=hn(X),{cellCtrl:r,printLayout:s,editingRow:n}=e,o=r.getTabIndex(),c=r.getColumnIdSanitised(),a=r.getInstanceId(),[l,d]=Ce(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[i,u]=Ce(),[f,w]=Ce(1),[R,h]=Ce(),[m,p]=Ce(!1),[C,P]=Ce(!1),[v,E]=Ce(!1),[O,y]=Ce(),D=bt(()=>r.isForceWrapper(),[r]),g=bt(()=>r.getCellAriaRole(),[r]),F=pe(null),I=pe(null),M=pe(),b=pe(),H=pe(),N=pe([]),L=pe(),[_,T]=Ce(0),S=_e(j=>{L.current=j,T(K=>K+1)},[]),k=l!=null&&(m||v||C),U=D||k,A=_e((j,K)=>{b.current=K,K&&(Gn(j,K,r),K.isCancelBeforeStart&&K.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)}))},[r]),B=_e(j=>A(!0,j),[A]),ae=_e(j=>A(!1,j),[A]);let x=pe();x.current||(x.current=new pn(()=>F.current)),Mn(l,U,L.current,_,M,F);const ee=pe();St(()=>{const j=ee.current,K=l;if(ee.current=l,j==null||j.compDetails==null||K==null||K.compDetails==null)return;const $=j.compDetails,G=K.compDetails;if($.componentClass!=G.componentClass||I.current==null||I.current.refresh==null)return;I.current.refresh(G.params)!=!0&&w(re=>re+1)},[l]),St(()=>{if(!(i&&!i.compDetails.componentFromFramework))return;const K=i.compDetails,$=i.popup===!0,G=os(K);if(!G)return;const Y=G.getGui();if(A($,G),!$){const re=(D?H:F).current;re?.appendChild(Y),G.afterGuiAttached&&G.afterGuiAttached()}return y(G),()=>{t.destroyBean(G),A($,void 0),y(void 0),Y&&Y.parentElement&&Y.parentElement.removeChild(Y)}},[i]);const Z=_e(j=>{if(H.current=j,!H.current){N.current.forEach($=>$()),N.current=[];return}const K=$=>{var G;if($){const Y=$.getGui();(G=H.current)==null||G.insertAdjacentElement("afterbegin",Y),N.current.push(()=>{t.destroyBean($),Pt.removeFromParent(Y)})}return $};if(m){const $=r.createSelectionCheckbox();K($)}v&&K(r.createDndSource()),C&&K(r.createRowDragComp())},[r,t,v,C,m]),ue=_e(j=>{if(F.current=j,!F.current||!r)return;const K={addOrRemoveCssClass:(G,Y)=>x.current.addOrRemoveCssClass(G,Y),setUserStyles:G=>h(G),getFocusableElement:()=>F.current,setIncludeSelection:G=>p(G),setIncludeRowDrag:G=>P(G),setIncludeDndSource:G=>E(G),getCellEditor:()=>b.current||null,getCellRenderer:()=>I.current?I.current:M.current,getParentOfValue:()=>L.current?L.current:H.current?H.current:F.current,setRenderDetails:(G,Y,re)=>{d(se=>se?.compDetails!==G||se?.value!==Y||se?.force!==re?{value:Y,compDetails:G,force:re}:se)},setEditDetails:(G,Y,re,se)=>{if(G){let ve;se?ve=new An(G.params,()=>w(it=>it+1)):G.componentFromFramework&&at(),u({compDetails:G,popup:Y,popupPosition:re,compProxy:ve}),Y||d(void 0)}else u(ve=>{ve?.compProxy&&(b.current=void 0)})}},$=H.current||void 0;r.setComp(K,F.current,$,s,n)},[]),be=bt(()=>!!(l&&l.compDetails&&l.compDetails.componentFromFramework&&Ie(l.compDetails.componentClass)),[l]);St(()=>{var j;F.current&&(x.current.addOrRemoveCssClass("ag-cell-value",!U),x.current.addOrRemoveCssClass("ag-cell-inline-editing",!!i&&!i.popup),x.current.addOrRemoveCssClass("ag-cell-popup-editing",!!i&&!!i.popup),x.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!i||!!i.popup),(j=r.getRowCtrl())==null||j.setInlineEditingCss(!!i),r.shouldRestoreFocus()&&!r.isEditing()&&F.current.focus({preventScroll:!0}))});const $e=()=>V.createElement(V.Fragment,null,l!=null&&_n(l,f,a,I,U,be,S),i!=null&&Tn(i,ae,B,F.current,r,O));return V.createElement("div",{ref:ue,style:R,tabIndex:o,role:g,"col-id":c},U?V.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Z},$e()):$e())},Bn=Cn(xn),Dn=e=>{const{context:t,gos:r}=cn(X),{rowCtrl:s,containerType:n}=e,o=s.getTabIndex(),c=Re(s.getDomOrder()),a=s.isFullWidth(),l=s.getRowNode().displayed,[d,i]=me(()=>l?s.getRowIndex():null),[u,f]=me(()=>s.getRowId()),[w,R]=me(()=>s.getBusinessKey()),[h,m]=me(()=>s.getRowStyles()),p=Re(null),C=Re(null),[P,v]=me(()=>null),[E,O]=me(),[y,D]=me(()=>l?s.getInitialRowTop(n):void 0),[g,F]=me(()=>l?s.getInitialTransform(n):void 0),I=Re(null),M=Re(),b=Re(!1),[H,N]=me(0);rr(()=>{var x;if(b.current||!E||H>10)return;const ee=(x=I.current)==null?void 0:x.firstChild;ee?(s.setupDetailRowAutoHeight(ee),b.current=!0):N(Z=>Z+1)},[E,H]);let L=Re();L.current||(L.current=new mn(()=>I.current));const _=dn(x=>{if(I.current=x,!I.current){s.unsetComp(n);return}if(!s.isAlive())return;const ee={setTop:D,setTransform:F,addOrRemoveCssClass:(Z,ue)=>L.current.addOrRemoveCssClass(Z,ue),setDomOrder:Z=>c.current=Z,setRowIndex:i,setRowId:f,setRowBusinessKey:R,setUserStyles:m,setCellCtrls:(Z,ue)=>{C.current=p.current,p.current=Z;const be=ft(C.current,Z,c.current);be!==C.current&&ht(ue,()=>v(be))},showFullWidth:Z=>O(Z),getFullWidthCellRenderer:()=>M.current,refreshFullWidth:Z=>A.current?(O(ue=>q(W({},ue),{params:Z()})),!0):!M.current||!M.current.refresh?!1:M.current.refresh(Z())};s.setComp(ee,I.current,n)},[]);un(()=>De(E,t,I.current,M),[E]);const T=sr(()=>{const x={top:y,transform:g};return Object.assign(x,h),x},[y,g,h]),S=a&&E&&E.componentFromFramework,k=!a&&P!=null,U=sr(()=>!!(E?.componentFromFramework&&Ie(E.componentClass)),[E]),A=Re(!1);rr(()=>{A.current=U&&!!E&&!!r.get("reactiveCustomComponents")},[U,E]);const B=()=>P?.map(x=>Te.createElement(Bn,{cellCtrl:x,editingRow:s.isEditing(),printLayout:s.isPrintLayout(),key:x.getInstanceId()})),ae=()=>{const x=E.componentClass;return Te.createElement(Te.Fragment,null,U&&Te.createElement(x,W({},E.params)),!U&&Te.createElement(x,q(W({},E.params),{ref:M})))};return Te.createElement("div",{ref:_,role:"row",style:T,"row-index":d,"row-id":u,"row-business-key":w,tabIndex:o},k&&B(),S&&ae())},Nn=ln(Dn),Wn=e=>{const{context:t}=an(X),{name:r}=e,s=lt(()=>sn(r),[r]),n=Oe(null),o=Oe(null),c=Oe([]),a=Oe([]),[l,d]=nn(()=>[]),i=Oe(!1),u=Oe(),f=lt(()=>tr.getRowContainerCssClasses(r),[r]),w=lt(()=>ne(f.viewport),[f]),R=lt(()=>ne(f.container),[f]),h=r===Ve.CENTER||r===Ve.TOP_CENTER||r===Ve.BOTTOM_CENTER||r===Ve.STICKY_TOP_CENTER||r===Ve.STICKY_BOTTOM_CENTER,m=h?n:o;Pe(" AG Row Container "+r+" ",m);const p=Ke(()=>h?n.current!=null&&o.current!=null:o.current!=null,[]),C=Ke(()=>h?n.current==null&&o.current==null:o.current==null,[]),P=Ke(()=>{if(C()&&(t.destroyBean(u.current),u.current=null),p()){const y=g=>{const F=ft(a.current,c.current,i.current);F!==a.current&&(a.current=F,ht(g,()=>d(F)))},D={setViewportHeight:g=>{n.current&&(n.current.style.height=g)},setRowCtrls:({rowCtrls:g,useFlushSync:F})=>{const I=!!F&&c.current.length>0&&g.length>0;c.current=g,y(I)},setDomOrder:g=>{i.current!=g&&(i.current=g,y(!1))},setContainerWidth:g=>{o.current&&(o.current.style.width=g)}};u.current=t.createBean(new tr(r)),u.current.setComp(D,o.current,n.current)}},[p,C]),v=Ke(y=>{o.current=y,P()},[P]),E=Ke(y=>{n.current=y,P()},[P]),O=()=>je.createElement("div",{className:R,ref:v,role:"rowgroup"},l.map(y=>je.createElement(Nn,{rowCtrl:y,containerType:s,key:y.getInstanceId()})));return je.createElement(je.Fragment,null,h?je.createElement("div",{className:w,ref:E,role:"presentation"},O()):O())},Hn=on(Wn),Ln=()=>{const{context:e,agStackComponentsRegistry:t,resizeObserverService:r}=ps(X),[s,n]=Q(""),[o,c]=Q(0),[a,l]=Q(0),[d,i]=Q("0px"),[u,f]=Q("0px"),[w,R]=Q("100%"),[h,m]=Q("0px"),[p,C]=Q("0px"),[P,v]=Q("100%"),[E,O]=Q(""),[y,D]=Q(""),[g,F]=Q(null),[I,M]=Q(""),[b,H]=Q(null),[N,L]=Q("ag-layout-normal");let _=ie();_.current||(_.current=new is(()=>T.current));const T=ie(null),S=ie(null),k=ie(null),U=ie(null),A=ie(null),B=ie(null),ae=ie(null),x=ie([]),ee=ie([]);Pe(" AG Grid Body ",T),Pe(" AG Pinned Top ",S),Pe(" AG Sticky Top ",k),Pe(" AG Middle ",B),Pe(" AG Pinned Bottom ",ae);const Z=ms(Se=>{if(T.current=Se,!T.current){e.destroyBeans(x.current),ee.current.forEach(J=>J()),x.current=[],ee.current=[];return}if(!e)return;const Be=J=>{const le=t.getComponentClass(J),Gt=e.createBean(new le);return x.current.push(Gt),Gt},he=(J,le)=>{J.appendChild(le),ee.current.push(()=>J.removeChild(le))};he(T.current,document.createComment(" AG Fake Horizontal Scroll ")),he(T.current,Be("AG-FAKE-HORIZONTAL-SCROLL").getGui()),he(T.current,document.createComment(" AG Overlay Wrapper ")),he(T.current,Be("AG-OVERLAY-WRAPPER").getGui()),A.current&&(he(A.current,document.createComment(" AG Fake Vertical Scroll ")),he(A.current,Be("AG-FAKE-VERTICAL-SCROLL").getGui()));const ut={setRowAnimationCssOnBodyViewport:n,setColumnCount:J=>{T.current&&zt.setAriaColCount(T.current,J)},setRowCount:J=>{T.current&&zt.setAriaRowCount(T.current,J)},setTopHeight:c,setBottomHeight:l,setStickyTopHeight:i,setStickyTopTop:f,setStickyTopWidth:R,setTopDisplay:O,setBottomDisplay:D,setColumnMovingCss:(J,le)=>_.current.addOrRemoveCssClass(J,le),updateLayoutClasses:L,setAlwaysVerticalScrollClass:F,setPinnedTopBottomOverflowY:M,setCellSelectableCss:(J,le)=>H(le?J:null),setBodyViewportWidth:J=>{B.current&&(B.current.style.width=J)},registerBodyViewportResizeListener:J=>{if(B.current){const le=r.observeResize(B.current,J);ee.current.push(()=>le())}},setStickyBottomHeight:m,setStickyBottomBottom:C,setStickyBottomWidth:v},At=e.createBean(new us);x.current.push(At),At.setComp(ut,T.current,B.current,S.current,ae.current,k.current,U.current)},[]),ue=oe(()=>ne("ag-root","ag-unselectable",N),[N]),be=oe(()=>ne("ag-body-viewport",s,N,g,b),[s,N,g,b]),$e=oe(()=>ne("ag-body",N),[N]),j=oe(()=>ne("ag-floating-top",b),[b]),K=oe(()=>ne("ag-sticky-top",b),[b]),$=oe(()=>ne("ag-sticky-bottom",b),[b]),G=oe(()=>ne("ag-floating-bottom",b),[b]),Y=oe(()=>({height:o,minHeight:o,display:E,overflowY:I}),[o,E,I]),re=oe(()=>({height:d,top:u,width:w}),[d,u,w]),se=oe(()=>({height:h,bottom:p,width:P}),[h,p,P]),ve=oe(()=>({height:a,minHeight:a,display:y,overflowY:I}),[a,y,I]),it=Se=>We.createElement(Hn,{name:Se,key:`${Se}-container`}),xe=({section:Se,children:Be,className:he,style:ut})=>We.createElement("div",{ref:Se,className:he,role:"presentation",style:ut},Be.map(it));return We.createElement("div",{ref:Z,className:ue,role:"treegrid"},We.createElement(en,null),xe({section:S,className:j,style:Y,children:[z.TOP_LEFT,z.TOP_CENTER,z.TOP_RIGHT,z.TOP_FULL_WIDTH]}),We.createElement("div",{className:$e,ref:A,role:"presentation"},xe({section:B,className:be,children:[z.LEFT,z.CENTER,z.RIGHT,z.FULL_WIDTH]})),xe({section:k,className:K,style:re,children:[z.STICKY_TOP_LEFT,z.STICKY_TOP_CENTER,z.STICKY_TOP_RIGHT,z.STICKY_TOP_FULL_WIDTH]}),xe({section:U,className:$,style:se,children:[z.STICKY_BOTTOM_LEFT,z.STICKY_BOTTOM_CENTER,z.STICKY_BOTTOM_RIGHT,z.STICKY_BOTTOM_FULL_WIDTH]}),xe({section:ae,className:G,style:ve,children:[z.BOTTOM_LEFT,z.BOTTOM_CENTER,z.BOTTOM_RIGHT,z.BOTTOM_FULL_WIDTH]}))},Un=ds(Ln);import Ft,{forwardRef as Vn,memo as jn,useCallback as It,useContext as Kn,useImperativeHandle as zn,useRef as Mt}from"react";import{TabGuardClassNames as kt,TabGuardCtrl as $n}from"ag-grid-community";var Yn=(e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:n,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:c}=e,{context:a}=Kn(X),l=Mt(null),d=Mt(null),i=Mt(),u=m=>{const p=m==null?void 0:parseInt(m,10).toString();[l,d].forEach(C=>{var P,v;p===void 0?(P=C.current)==null||P.removeAttribute("tabindex"):(v=C.current)==null||v.setAttribute("tabindex",p)})};zn(t,()=>({forceFocusOutOfContainer(m){var p;(p=i.current)==null||p.forceFocusOutOfContainer(m)}}));const f=It(()=>{if(!l.current&&!d.current){a.destroyBean(i.current),i.current=null;return}if(l.current&&d.current){const m={setTabIndex:u};i.current=a.createBean(new $n({comp:m,eTopGuard:l.current,eBottomGuard:d.current,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:p=>o.focusInnerElement(p)}))}},[]),w=It(m=>{l.current=m,f()},[f]),R=It(m=>{d.current=m,f()},[f]),h=m=>{const p=m==="top"?kt.TAB_GUARD_TOP:kt.TAB_GUARD_BOTTOM;return Ft.createElement("div",{className:`${kt.TAB_GUARD} ${p}`,role:"presentation",ref:m==="top"?w:R})};return Ft.createElement(Ft.Fragment,null,h("top"),r,h("bottom"))},Jn=Vn(Yn),Zn=jn(Jn),qn=({context:e})=>{const[t,r]=ge(""),[s,n]=ge(""),[o,c]=ge(""),[a,l]=ge(null),[d,i]=ge(null),[u,f]=ge(!1),[w,R]=ge(),h=tt(null),m=tt(null),p=tt(),[C,P]=ge(null),v=tt(()=>{}),E=gt(()=>{},[]),O=et(()=>e.isDestroyed()?null:e.getBean("beans"),[e]);Pe(" AG Grid ",m);const y=gt(M=>{if(m.current=M,!m.current){e.destroyBean(h.current),h.current=null;return}if(e.isDestroyed())return;h.current=e.createBean(new as);const b=h.current;v.current=b.focusInnerElement.bind(b);const H={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:N=>{var L;(L=p.current)==null||L.forceFocusOutOfContainer(N)},updateLayoutClasses:c,getFocusableContainers:()=>{var N,L;const _=[],T=(N=m.current)==null?void 0:N.querySelector(".ag-root"),S=(L=m.current)==null?void 0:L.querySelector(".ag-side-bar:not(.ag-hidden)");return T&&_.push(T),S&&_.push(S),_},setCursor:l,setUserSelect:i};b.setComp(H,m.current,m.current),f(!0)},[]);cs(()=>{if(!w||!O||!h.current||!C||!m.current)return;const M=h.current,b=[],{agStackComponentsRegistry:H}=O,N=H.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),L=H.getComponentClass("AG-SIDE-BAR"),_=H.getComponentClass("AG-STATUS-BAR"),T=H.getComponentClass("AG-WATERMARK"),S=H.getComponentClass("AG-PAGINATION"),k=[],U=m.current;if(M.showDropZones()&&N){const A=e.createBean(new N),B=A.getGui();U.insertAdjacentElement("afterbegin",B),k.push(B),b.push(A)}if(M.showSideBar()&&L){const A=e.createBean(new L),B=A.getGui(),ae=C.querySelector(".ag-tab-guard-bottom");ae&&(ae.insertAdjacentElement("beforebegin",B),k.push(B)),b.push(A)}if(M.showStatusBar()&&_){const A=e.createBean(new _),B=A.getGui();U.insertAdjacentElement("beforeend",B),k.push(B),b.push(A)}if(S){const A=e.createBean(new S),B=A.getGui();U.insertAdjacentElement("beforeend",B),k.push(B),b.push(A)}if(M.showWatermark()&&T){const A=e.createBean(new T),B=A.getGui();U.insertAdjacentElement("beforeend",B),k.push(B),b.push(A)}return()=>{e.destroyBeans(b),k.forEach(A=>{A.parentElement&&A.parentElement.removeChild(A)})}},[w,C,O]);const D=et(()=>ne("ag-root-wrapper",t,s,o),[t,s,o]),g=et(()=>ne("ag-root-wrapper-body","ag-focus-managed",o),[o]),F=et(()=>({userSelect:d??"",WebkitUserSelect:d??"",cursor:a??""}),[d,a]),I=gt(M=>{p.current=M,R(M!==null)},[]);return Ne.createElement("div",{ref:y,className:D,style:F,role:"presentation"},Ne.createElement("div",{className:g,ref:P,role:"presentation"},u&&C&&O&&Ne.createElement(X.Provider,{value:O},Ne.createElement(Zn,{ref:I,eFocusableElement:C,onTabKeyDown:E,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0},Ne.createElement(Un,null)))))},Xn=ls(qn),cr=e=>{var t,r;const s=ce(),n=ce(null),o=ce(null),c=ce([]),a=ce([]),l=ce(e),d=ce(!1),[i,u]=Fe(void 0),[,f]=Fe(0),w=Je(m=>{if(n.current=m,!n.current){c.current.forEach(y=>y()),c.current.length=0;return}const p=e.modules||[];o.current||(o.current=new Yr(()=>f(y=>y+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),c.current.push(()=>{var y;(y=o.current)==null||y.destroy(),o.current=null}));const C=_t.combineAttributesAndGridOptions(e.gridOptions,e),P={providedBeanInstances:{frameworkComponentWrapper:new eo(o.current,!!C.reactiveCustomComponents)},modules:p,frameworkOverrides:new ro},v=y=>{u(y),c.current.push(()=>{y.destroy()}),y.getBean(xt.NAME).whenReady(()=>{if(y.isDestroyed())return;const g=s.current;g&&e.setGridApi&&e.setGridApi(g,new yr(g))})},E=y=>{y.getBean(xt.NAME).whenReady(()=>{a.current.forEach(g=>g()),a.current.length=0,d.current=!0})},O=new wr;s.current=O.create(n.current,C,v,E,P)},[]),R=Ze(()=>W({height:"100%"},e.containerStyle||{}),[e.containerStyle]),h=Je(m=>{d.current?m():a.current.push(m)},[]);return Ir(()=>{const m=Qn(l.current,e);l.current=e,h(()=>{s.current&&_t.processOnChange(m,s.current)})},[e]),Ye.createElement("div",{style:R,className:e.className,ref:w},i&&!i.isDestroyed()?Ye.createElement(Xn,{context:i}):null,(r=(t=o.current)==null?void 0:t.getPortals())!=null?r:null)};function Qn(e,t){const r={};return Object.keys(t).forEach(s=>{const n=t[s];e[s]!==n&&(r[s]=n)}),r}var eo=class extends vr{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(o=>{switch(o){case"filter":return Wr;case"floatingFilterComponent":return Ur;case"dateComponent":return Nr;case"loadingOverlayComponent":return Vr;case"noRowsOverlayComponent":return Kr;case"statusPanel":return zr;case"toolPanel":return $r;case"menuItem":return jr}})(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":at();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new Ht(e,this.parent,t,r)}},to=Sr((e,t)=>{const{ctrlsFactory:r,context:s,gos:n,resizeObserverService:o,clientSideRowModel:c,serverSideRowModel:a}=Fr(X),[l,d]=Fe(()=>new te),[i,u]=Fe(()=>new te),[f,w]=Fe(),[R,h]=Fe(),m=ce(),p=ce(null),C=ce(),P=Ze(()=>Er.__getGridRegisteredModules(e.api.getGridId()),[e]),v=Ze(()=>l.toString()+" ag-details-row",[l]),E=Ze(()=>i.toString()+" ag-details-grid",[i]);t&&Mr(t,()=>({refresh(){var D,g;return(g=(D=m.current)==null?void 0:D.refresh())!=null?g:!1}})),e.template&&br.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const O=Je(D=>{if(p.current=D,!p.current){s.destroyBean(m.current),C.current&&C.current();return}const g={addOrRemoveCssClass:(I,M)=>d(b=>b.setClass(I,M)),addOrRemoveDetailGridCssClass:(I,M)=>u(b=>b.setClass(I,M)),setDetailGrid:I=>w(I),setRowData:I=>h(I),getGui:()=>p.current},F=r.getInstance("detailCellRenderer");if(F&&(s.createBean(F),F.init(g,e),m.current=F,n.get("detailRowAutoHeight"))){const I=()=>{if(p.current==null)return;const M=p.current.clientHeight;M!=null&&M>0&&setTimeout(()=>{e.node.setRowHeight(M),c?c.onRowHeightChanged():a&&a.onRowHeightChanged()},0)};C.current=o.observeResize(p.current,I),I()}},[]),y=Je((D,g)=>{var F;(F=m.current)==null||F.registerDetailWithMaster(D,g)},[]);return Ye.createElement("div",{className:v,ref:O},f&&Ye.createElement(cr,q(W({className:E},f),{modules:P,rowData:R,setGridApi:y})))}),ro=class extends Pr{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:Kt,agGroupRowRenderer:Kt,agDetailCellRenderer:to},this.wrapIncoming=(e,t)=>t==="ensureVisible"?qr(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}},so=class extends Rr{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t,this.apiListeners.forEach(r=>r(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return gr.createElement(cr,q(W({},this.props),{setGridApi:this.setGridApi}))}},ir=(e=>(e.IdentityCheck="IdentityCheck",e.DeepValueCheck="DeepValueCheck",e.NoCheck="NoCheck",e))(ir||{});import{useContext as no}from"react";function ze(e){const{setMethods:t}=no(qe);t(e)}function oo(e){ze(e)}function ao(e){return ze(e)}function lo(e){return ze(e)}function co(e){ze(e)}function io(e){ze(e)}export{so as AgGridReact,ir as ChangeDetectionStrategyType,$s as getInstance,oo as useGridCellEditor,ao as useGridDate,lo as useGridFilter,co as useGridFloatingFilter,io as useGridMenuItem,at as warnReactiveCustomComponents};
